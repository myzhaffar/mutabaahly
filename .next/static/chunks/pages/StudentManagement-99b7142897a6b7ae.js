(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1133],{49630:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/StudentManagement",function(){return n(84358)}])},47782:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(33592).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},62487:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(33592).Z)("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]])},3498:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(33592).Z)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},70207:function(e,t,n){"use strict";n.d(t,{RM:function(){return l},SC:function(){return u},iA:function(){return s},pj:function(){return c},ss:function(){return d},xD:function(){return o}});var r=n(85893),a=n(67294),i=n(27742);let s=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,i.cn)("w-full caption-bottom text-sm",n),...a})})});s.displayName="Table";let o=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("thead",{ref:t,className:(0,i.cn)("[&_tr]:border-b",n),...a})});o.displayName="TableHeader";let l=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,i.cn)("[&_tr:last-child]:border-0",n),...a})});l.displayName="TableBody",a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",n),...a})}).displayName="TableFooter";let u=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("tr",{ref:t,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",n),...a})});u.displayName="TableRow";let d=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("th",{ref:t,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",n),...a})});d.displayName="TableHead";let c=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("td",{ref:t,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",n),...a})});c.displayName="TableCell",a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("caption",{ref:t,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",n),...a})}).displayName="TableCaption"},150:function(e,t,n){"use strict";n.d(t,{p:function(){return r.pm}});var r=n(12987)},84358:function(e,t,n){"use strict";n.r(t);var r=n(85893),a=n(67294),i=n(54033),s=n(95364),o=n(87095),l=n(70207),u=n(150),d=n(58474),c=n(70550),f=n(88055),m=n(53736),p=n(41919);t.default=()=>{let{profile:e}=(0,f.a)(),{toast:t}=(0,u.p)(),[n,h]=(0,a.useState)(""),{data:x,isLoading:N,refetch:v}=(0,i.a)({queryKey:["teacher-students",null==e?void 0:e.id],queryFn:async()=>{if(!(null==e?void 0:e.id))return[];let{data:t,error:n}=await c.O.from("students").select("\n          id,\n          name,\n          group_name,\n          teacher\n        ").eq("teacher",e.full_name);if(n)throw console.error("Error fetching students:",n),n;return t},enabled:!!(null==e?void 0:e.id)}),y=()=>{v()},g=null==x?void 0:x.filter(e=>e.name.toLowerCase().includes(n.toLowerCase()));return(0,r.jsx)(d.Z,{children:(0,r.jsxs)("div",{className:"container mx-auto px-0 py-0 md:px-6 md:py-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"Student List"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(p.Z,{onStudentsAdded:y}),(0,r.jsx)(m.Z,{onStudentAdded:y})]})]}),(0,r.jsx)("div",{className:"flex gap-4",children:(0,r.jsx)(o.I,{placeholder:"Search student name...",value:n,onChange:e=>h(e.target.value),className:"max-w-sm"})}),(0,r.jsx)("div",{className:"rounded-md border",children:(0,r.jsxs)(l.iA,{children:[(0,r.jsx)(l.xD,{children:(0,r.jsxs)(l.SC,{children:[(0,r.jsx)(l.ss,{children:"Student Name"}),(0,r.jsx)(l.ss,{children:"Class"}),(0,r.jsx)(l.ss,{children:"Teacher"}),(0,r.jsx)(l.ss,{className:"text-right",children:"Actions"})]})}),(0,r.jsx)(l.RM,{children:N?(0,r.jsx)(l.SC,{children:(0,r.jsx)(l.pj,{colSpan:4,className:"text-center",children:"Loading..."})}):(null==x?void 0:x.length)===0?(0,r.jsx)(l.SC,{children:(0,r.jsx)(l.pj,{colSpan:4,className:"text-center",children:"No students found."})}):null==g?void 0:g.map(e=>(0,r.jsxs)(l.SC,{children:[(0,r.jsx)(l.pj,{children:e.name}),(0,r.jsx)(l.pj,{children:e.group_name||"-"}),(0,r.jsx)(l.pj,{children:e.teacher||"-"}),(0,r.jsx)(l.pj,{className:"text-right",children:(0,r.jsx)(s.z,{variant:"ghost",onClick:()=>{t({title:"Coming Soon",description:"Edit student functionality will be implemented soon."})},children:"Edit"})})]},e.id))})]})})]})})}},83:function(e,t,n){"use strict";var r=n(67294),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=r.useState,s=r.useEffect,o=r.useLayoutEffect,l=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),a=r[0].inst,d=r[1];return o(function(){a.value=n,a.getSnapshot=t,u(a)&&d({inst:a})},[e,n,t]),s(function(){return u(a)&&d({inst:a}),e(function(){u(a)&&d({inst:a})})},[e]),l(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:d},61688:function(e,t,n){"use strict";e.exports=n(83)},93974:function(e,t,n){"use strict";n.d(t,{NY:function(){return S},Ee:function(){return b},fC:function(){return w}});var r=n(67294),a=n(25360),i=n(79698),s=n(9981),o=n(75320),l=n(61688);function u(){return()=>{}}var d=n(85893),c="Avatar",[f,m]=(0,a.b)(c),[p,h]=f(c),x=r.forwardRef((e,t)=>{let{__scopeAvatar:n,...a}=e,[i,s]=r.useState("idle");return(0,d.jsx)(p,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:(0,d.jsx)(o.WV.span,{...a,ref:t})})});x.displayName=c;var N="AvatarImage",v=r.forwardRef((e,t)=>{let{__scopeAvatar:n,src:a,onLoadingStatusChange:c=()=>{},...f}=e,m=h(N,n),p=function(e,{referrerPolicy:t,crossOrigin:n}){let a=(0,l.useSyncExternalStore)(u,()=>!0,()=>!1),i=r.useRef(null),o=a?(i.current||(i.current=new window.Image),i.current):null,[d,c]=r.useState(()=>j(o,e));return(0,s.b)(()=>{c(j(o,e))},[o,e]),(0,s.b)(()=>{let e=e=>()=>{c(e)};if(!o)return;let r=e("loaded"),a=e("error");return o.addEventListener("load",r),o.addEventListener("error",a),t&&(o.referrerPolicy=t),"string"==typeof n&&(o.crossOrigin=n),()=>{o.removeEventListener("load",r),o.removeEventListener("error",a)}},[o,n,t]),d}(a,f),x=(0,i.W)(e=>{c(e),m.onImageLoadingStatusChange(e)});return(0,s.b)(()=>{"idle"!==p&&x(p)},[p,x]),"loaded"===p?(0,d.jsx)(o.WV.img,{...f,ref:t,src:a}):null});v.displayName=N;var y="AvatarFallback",g=r.forwardRef((e,t)=>{let{__scopeAvatar:n,delayMs:a,...i}=e,s=h(y,n),[l,u]=r.useState(void 0===a);return r.useEffect(()=>{if(void 0!==a){let e=window.setTimeout(()=>u(!0),a);return()=>window.clearTimeout(e)}},[a]),l&&"loaded"!==s.imageLoadingStatus?(0,d.jsx)(o.WV.span,{...i,ref:t}):null});function j(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}g.displayName=y;var w=x,b=v,S=g},29115:function(e,t,n){"use strict";n.d(t,{z:function(){return s}});var r=n(67294),a=n(28771),i=n(9981),s=e=>{let t,n;let{present:s,children:l}=e,u=function(e){var t,n;let[a,s]=r.useState(),l=r.useRef(null),u=r.useRef(e),d=r.useRef("none"),[c,f]=(t=e?"mounted":"unmounted",n={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},r.useReducer((e,t)=>n[e][t]??e,t));return r.useEffect(()=>{let e=o(l.current);d.current="mounted"===c?e:"none"},[c]),(0,i.b)(()=>{let t=l.current,n=u.current;if(n!==e){let r=d.current,a=o(t);e?f("MOUNT"):"none"===a||t?.display==="none"?f("UNMOUNT"):n&&r!==a?f("ANIMATION_OUT"):f("UNMOUNT"),u.current=e}},[e,f]),(0,i.b)(()=>{if(a){let e;let t=a.ownerDocument.defaultView??window,n=n=>{let r=o(l.current).includes(n.animationName);if(n.target===a&&r&&(f("ANIMATION_END"),!u.current)){let n=a.style.animationFillMode;a.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===a.style.animationFillMode&&(a.style.animationFillMode=n)})}},r=e=>{e.target===a&&(d.current=o(l.current))};return a.addEventListener("animationstart",r),a.addEventListener("animationcancel",n),a.addEventListener("animationend",n),()=>{t.clearTimeout(e),a.removeEventListener("animationstart",r),a.removeEventListener("animationcancel",n),a.removeEventListener("animationend",n)}}f("ANIMATION_END")},[a,f]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:r.useCallback(e=>{l.current=e?getComputedStyle(e):null,s(e)},[])}}(s),d="function"==typeof l?l({present:u.isPresent}):r.Children.only(l),c=(0,a.e)(u.ref,(t=Object.getOwnPropertyDescriptor(d.props,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning?d.ref:(t=Object.getOwnPropertyDescriptor(d,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning?d.props.ref:d.props.ref||d.ref);return"function"==typeof l||u.isPresent?r.cloneElement(d,{ref:c}):null};function o(e){return e?.animationName||"none"}s.displayName="Presence"}},function(e){e.O(0,[2251,9332,1799,8288,1664,7197,4033,8187,318,7800,2474,2888,9774,179],function(){return e(e.s=49630)}),_N_E=e.O()}]);