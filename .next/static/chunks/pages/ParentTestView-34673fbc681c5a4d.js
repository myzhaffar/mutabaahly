(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8962],{9092:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ParentTestView",function(){return s(66655)}])},21427:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(33592).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},69972:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(33592).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},19078:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(33592).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},53487:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(33592).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},98408:function(e,t,s){"use strict";s.d(t,{Z:function(){return j}});var a=s(85893),r=s(67294),l=s(88055),n=s(39332),i=s(69750),d=s(41664),c=s.n(d),o=s(95364),u=s(42964),m=s(92568),x=s(99737),f=s(37663),h=s(62487),p=s(89934),b=s(3498),g=s(55051),v=()=>{var e;let{profile:t,signOut:s}=(0,l.a)(),r=(0,n.useRouter)(),i=(0,n.usePathname)(),d=async()=>{await s(),r.push("/")},v=[{href:"/dashboard",label:"Dashboard",icon:m.Z},{href:"/students",label:"Student Rankings",mobileLabel:"Student Ranks",icon:x.Z},{href:"/tests/view",label:"Test Results",icon:f.Z},{href:"/profile",label:"Profile",icon:h.Z}],j=e=>i===e||"/dashboard"!==e&&(null==i?void 0:i.startsWith(e));return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("header",{className:"sticky top-0 z-50 w-full border-b bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/60",children:(0,a.jsx)("nav",{className:"container mx-auto px-4",children:(0,a.jsxs)("div",{className:"flex h-16 items-center justify-between md:justify-between",children:[(0,a.jsx)("div",{className:"flex-1 flex justify-center md:justify-start items-center gap-2",children:(0,a.jsxs)(c(),{href:"/dashboard",className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-9 h-9 bg-gradient-to-r from-green-400 to-teal-500 rounded-lg flex items-center justify-center shadow-sm",children:(0,a.jsx)("span",{className:"text-white font-bold text-xl",children:"M"})}),(0,a.jsx)("span",{className:"font-sf-pro font-semibold text-base bg-gradient-to-r from-green-400 to-teal-500 bg-clip-text text-transparent hidden sm:block",children:"Mutabaahly"})]})}),(0,a.jsx)("div",{className:"hidden md:flex items-center gap-6",children:v.map(e=>(0,a.jsxs)(c(),{href:e.href,className:"\n                    flex items-center gap-2 text-sm font-medium transition-colors\n                    ".concat(j(e.href)?"bg-gradient-to-r from-green-400 to-teal-500 bg-clip-text text-transparent":"text-gray-600 hover:bg-gradient-to-r hover:from-green-400 hover:to-teal-500 hover:bg-clip-text hover:text-transparent","\n                  "),children:[(0,a.jsx)(e.icon,{className:"h-4 w-4 ".concat(j(e.href)?"text-teal-500":"text-gray-600 group-hover:text-teal-500")}),e.label]},e.label))}),(0,a.jsx)("div",{className:"hidden md:flex items-center gap-4",children:(0,a.jsxs)(g.h_,{children:[(0,a.jsx)(g.$F,{asChild:!0,children:(0,a.jsxs)(o.z,{variant:"ghost",className:"flex items-center gap-2",children:[(0,a.jsx)(u.qE,{className:"h-8 w-8",children:(0,a.jsx)(u.Q5,{className:"bg-green-100 text-teal-700",children:null==t?void 0:null===(e=t.full_name)||void 0===e?void 0:e.split(" ").map(e=>e[0]).join("").toUpperCase()})}),(0,a.jsx)("span",{className:"text-sm font-medium bg-gradient-to-r from-green-400 to-teal-500 bg-clip-text text-transparent",children:null==t?void 0:t.full_name}),(0,a.jsx)(p.Z,{className:"h-4 w-4 text-teal-500"})]})}),(0,a.jsx)(g.AW,{align:"end",className:"w-48",children:(0,a.jsxs)(g.Xi,{onClick:d,className:"text-red-600",children:[(0,a.jsx)(b.Z,{className:"mr-2 h-4 w-4"}),"Sign Out"]})})]})})]})})}),(0,a.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 z-50 md:hidden bg-white border-t shadow-lg",children:(0,a.jsx)("div",{className:"flex justify-around items-center h-14",children:v.map(e=>(0,a.jsxs)(c(),{href:e.href,className:"flex flex-col items-center justify-center flex-1 py-2 transition-colors ".concat(j(e.href)?"text-teal-600":"text-gray-400 hover:text-teal-500"),children:[(0,a.jsx)(e.icon,{className:"h-6 w-6 mb-0.5 ".concat(j(e.href)?"text-teal-600":"text-gray-400")}),(0,a.jsx)("span",{className:"text-xs font-medium",children:e.mobileLabel||e.label})]},e.label))})})]})},j=e=>{let{children:t,breadcrumbs:s}=e,{profile:d,loading:c}=(0,l.a)(),o=(0,n.useRouter)();return(r.useEffect(()=>{c||(null==d?void 0:d.role)==="parent"||o.push("/dashboard")},[c,d,o]),c)?(0,a.jsx)("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-islamic-500"})}):(null==d?void 0:d.role)!=="parent"?null:(0,a.jsxs)("div",{className:"min-h-screen bg-gray-100 pt-0",children:[(0,a.jsx)(v,{}),s&&(0,a.jsx)("div",{className:"pt-6 px-4 lg:px-8",children:(0,a.jsx)(i.Z,{items:s})}),(0,a.jsx)("main",{className:"container mx-auto pt-2 pb-6 px-4 lg:px-8",children:(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-4",children:t})})]})}},46257:function(e,t,s){"use strict";var a=s(85893),r=s(67294),l=s(53487),n=s(19078),i=s(87095),d=s(82698);let c=[{value:"scheduled",label:"Scheduled"},{value:"passed",label:"Passed"},{value:"failed",label:"Failed"}],o=[{value:"Level 1",label:"Level 1"},{value:"Level 2",label:"Level 2"},{value:"Level 3",label:"Level 3"},{value:"Level 4",label:"Level 4"},{value:"Level 5",label:"Level 5"},{value:"Level 6",label:"Level 6"}];t.Z=e=>{let{searchTerm:t="",status:s=[],jilidLevel:u=[],date:m,onFilterChange:x,showDateFilter:f=!1}=e,[h,p]=(0,r.useState)(!1),b=s&&s.length>0||u&&u.length>0||m;return(0,a.jsxs)("div",{className:"bg-gradient-to-br from-white to-gray-50 rounded-2xl shadow-lg border border-gray-200 mb-6 px-0 sm:px-0",children:[(0,a.jsxs)("div",{className:"p-4",children:[(0,a.jsxs)("div",{className:"relative w-full mb-4",children:[(0,a.jsx)(l.Z,{className:"absolute left-3 top-2.5 h-4 w-4 text-blue-400"}),(0,a.jsx)(i.I,{placeholder:"Search students by name...",value:t,onChange:e=>x("searchTerm",e.target.value),className:"pl-9 pr-4 w-full bg-blue-50 border border-blue-200 rounded-lg focus:border-blue-400 focus:ring-2 focus:ring-blue-100 text-base py-2 shadow-sm"})]}),(0,a.jsxs)("button",{className:"w-full flex items-center gap-3 px-0 py-3 border-b border-gray-100 hover:bg-gray-50 focus:outline-none",onClick:()=>p(e=>!e),"aria-expanded":h,children:[(0,a.jsx)("div",{className:"p-2 bg-gray-100 rounded-lg",children:(0,a.jsx)(n.Z,{className:"h-4 w-4 text-gray-600"})}),(0,a.jsxs)("div",{className:"flex-1 text-left",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 text-base sm:text-lg",children:"Filters"}),(0,a.jsx)("p",{className:"text-xs sm:text-sm text-gray-500",children:"Refine your search results"}),b&&(0,a.jsxs)("div",{className:"flex items-center gap-2 flex-wrap mt-2",children:[s.length>0&&(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 sm:px-3 sm:py-1 bg-blue-50 text-blue-700 text-xs sm:text-sm rounded-full border border-blue-200",children:["Status: ",s.map(e=>{var t;return(null===(t=c.find(t=>t.value===e))||void 0===t?void 0:t.label)||e}).join(", ")]}),u.length>0&&(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 sm:px-3 sm:py-1 bg-blue-50 text-blue-700 text-xs sm:text-sm rounded-full border border-blue-200",children:["Level: ",u.map(e=>{var t;return(null===(t=o.find(t=>t.value===e))||void 0===t?void 0:t.label)||e}).join(", ")]}),(0,a.jsx)("button",{type:"button",onClick:()=>{x("searchTerm",""),x("status",[]),x("jilidLevel",[]),f&&x("date",void 0)},className:"ml-2 text-xs text-gray-500 hover:text-red-600 underline",children:"Clear Filters"})]})]}),(0,a.jsx)("span",{className:"ml-auto text-xs text-gray-500",children:h?"Hide":"Show"})]})]}),h&&(0,a.jsx)("div",{className:"p-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 sm:gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[(0,a.jsxs)("label",{className:"text-xs sm:text-sm font-medium text-gray-700 flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),"Status"]}),(0,a.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:c.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(d.X,{id:"status-filter-".concat(e.value),checked:s.includes(e.value),onCheckedChange:()=>{x("status",s.includes(e.value)?s.filter(t=>t!==e.value):[...s,e.value])},className:"rounded-full"}),(0,a.jsx)("label",{htmlFor:"status-filter-".concat(e.value),className:"text-sm text-gray-700 cursor-pointer",children:e.label})]},e.value))})]}),(0,a.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[(0,a.jsxs)("label",{className:"text-xs sm:text-sm font-medium text-gray-700 flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),"Level"]}),(0,a.jsx)("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:o.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(d.X,{id:"jilid-filter-".concat(e.value),checked:u.includes(e.value),onCheckedChange:()=>{x("jilidLevel",u.includes(e.value)?u.filter(t=>t!==e.value):[...u,e.value])},className:"rounded-full"}),(0,a.jsx)("label",{htmlFor:"jilid-filter-".concat(e.value),className:"text-sm text-gray-700 cursor-pointer",children:e.label})]},e.value))})]})]})})]})}},69750:function(e,t,s){"use strict";var a=s(85893);s(67294);var r=s(41664),l=s.n(r),n=s(47782);t.Z=e=>{let{items:t}=e;return(0,a.jsx)("nav",{className:"flex mb-4","aria-label":"Breadcrumb",children:(0,a.jsx)("ol",{className:"inline-flex items-center space-x-1 md:space-x-2 rtl:space-x-reverse",children:t.map((e,s)=>(0,a.jsx)("li",{className:"inline-flex items-center",children:e.href&&s<t.length-1?(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(l(),{href:e.href,className:"text-sm font-medium text-gray-700 hover:text-blue-600",children:e.label}),(0,a.jsx)(n.Z,{className:"h-4 w-4 text-gray-400 mx-1"})]}):(0,a.jsx)("span",{className:"text-sm font-medium text-gray-500",children:e.label})},s))})})}},42964:function(e,t,s){"use strict";s.d(t,{F$:function(){return d},Q5:function(){return c},qE:function(){return i}});var a=s(85893),r=s(67294),l=s(93974),n=s(27742);let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.fC,{ref:t,className:(0,n.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...r})});i.displayName=l.fC.displayName;let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.Ee,{ref:t,className:(0,n.cn)("aspect-square h-full w-full",s),...r})});d.displayName=l.Ee.displayName;let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.NY,{ref:t,className:(0,n.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...r})});c.displayName=l.NY.displayName},14866:function(e,t,s){"use strict";s.d(t,{C:function(){return d}});var a=s(85893),r=s(67294),l=s(12003),n=s(27742);let i=(0,l.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-islamic-500 text-white hover:bg-islamic-600",warning:"border-transparent bg-accent-500 text-white hover:bg-accent-600",info:"border-transparent bg-blue-500 text-white hover:bg-blue-600",neutral:"border-transparent bg-gray-400 text-white hover:bg-accent-500"},size:{default:"text-xs px-2.5 py-0.5",sm:"text-[10px] px-2 py-0.5",lg:"text-sm px-3 py-1"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:s,variant:r,size:l,...d}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)(i({variant:r,size:l}),s),...d})});d.displayName="Badge"},95364:function(e,t,s){"use strict";s.d(t,{d:function(){return d},z:function(){return c}});var a=s(85893),r=s(67294),l=s(88426),n=s(12003),i=s(27742);let d=(0,n.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-full text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 px-3",lg:"h-11 px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:s,variant:r,size:n,asChild:c=!1,...o}=e,u=c?l.g7:"button";return(0,a.jsx)(u,{className:(0,i.cn)(d({variant:r,size:n,className:s})),ref:t,...o})});c.displayName="Button"},82698:function(e,t,s){"use strict";s.d(t,{X:function(){return d}});var a=s(85893),r=s(67294),l=s(46069),n=s(80906),i=s(27742);let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.fC,{ref:t,className:(0,i.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...r,children:(0,a.jsx)(l.z$,{className:(0,i.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(n.Z,{className:"h-4 w-4"})})})});d.displayName=l.fC.displayName},55051:function(e,t,s){"use strict";s.d(t,{$F:function(){return u},AW:function(){return m},VD:function(){return f},Xi:function(){return x},h_:function(){return o}});var a=s(85893),r=s(67294),l=s(93133),n=s(47782),i=s(80906),d=s(50231),c=s(27742);let o=l.fC,u=l.xz;l.ZA,l.Uv,l.Tr,l.Ee,r.forwardRef((e,t)=>{let{className:s,inset:r,children:i,...d}=e;return(0,a.jsxs)(l.fF,{ref:t,className:(0,c.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",s),...d,children:[i,(0,a.jsx)(n.Z,{className:"ml-auto h-4 w-4"})]})}).displayName=l.fF.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.tu,{ref:t,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r})}).displayName=l.tu.displayName;let m=r.forwardRef((e,t)=>{let{className:s,sideOffset:r=4,...n}=e;return(0,a.jsx)(l.Uv,{children:(0,a.jsx)(l.VY,{ref:t,sideOffset:r,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})})});m.displayName=l.VY.displayName;let x=r.forwardRef((e,t)=>{let{className:s,inset:r,...n}=e;return(0,a.jsx)(l.ck,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r&&"pl-8",s),...n})});x.displayName=l.ck.displayName,r.forwardRef((e,t)=>{let{className:s,children:r,checked:n,...d}=e;return(0,a.jsxs)(l.oC,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:n,...d,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(l.wU,{children:(0,a.jsx)(i.Z,{className:"h-4 w-4"})})}),r]})}).displayName=l.oC.displayName,r.forwardRef((e,t)=>{let{className:s,children:r,...n}=e;return(0,a.jsxs)(l.Rk,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(l.wU,{children:(0,a.jsx)(d.Z,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=l.Rk.displayName,r.forwardRef((e,t)=>{let{className:s,inset:r,...n}=e;return(0,a.jsx)(l.__,{ref:t,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",s),...n})}).displayName=l.__.displayName;let f=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(l.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",s),...r})});f.displayName=l.Z0.displayName},87095:function(e,t,s){"use strict";s.d(t,{I:function(){return n}});var a=s(85893),r=s(67294),l=s(27742);let n=r.forwardRef((e,t)=>{let{className:s,type:r,...n}=e;return(0,a.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...n})});n.displayName="Input"},70207:function(e,t,s){"use strict";s.d(t,{RM:function(){return d},SC:function(){return c},iA:function(){return n},pj:function(){return u},ss:function(){return o},xD:function(){return i}});var a=s(85893),r=s(67294),l=s(27742);let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",s),...r})})});n.displayName="Table";let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b",s),...r})});i.displayName="TableHeader";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",s),...r})});d.displayName="TableBody",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...r})}).displayName="TableFooter";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tr",{ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...r})});c.displayName="TableRow";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("th",{ref:t,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...r})});o.displayName="TableHead";let u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("td",{ref:t,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...r})});u.displayName="TableCell",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",s),...r})}).displayName="TableCaption"},88055:function(e,t,s){"use strict";s.d(t,{a:function(){return l}});var a=s(67294);s(85893),s(70550);let r=(0,a.createContext)(void 0),l=()=>{let e=(0,a.useContext)(r);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},70550:function(e,t,s){"use strict";s.d(t,{O:function(){return a}});let a=(0,s(56844).eI)("https://isyhakwwgdozgtlquzis.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlzeWhha3d3Z2Rvemd0bHF1emlzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY5NTY3NzcsImV4cCI6MjA2MjUzMjc3N30.-2Ya944q8mgJzRAuhMpRAWgxWVmt2yc3CqM0jjgFuuY")},46573:function(e,t,s){"use strict";s.d(t,{O:function(){return a}});let a=(0,s(56844).eI)("https://isyhakwwgdozgtlquzis.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlzeWhha3d3Z2Rvemd0bHF1emlzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY5NTY3NzcsImV4cCI6MjA2MjUzMjc3N30.-2Ya944q8mgJzRAuhMpRAWgxWVmt2yc3CqM0jjgFuuY",{db:{schema:"public"}})},27742:function(e,t,s){"use strict";s.d(t,{cn:function(){return l}});var a=s(90512),r=s(98388);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}},66655:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return j}});var a=s(85893),r=s(67294),l=s(54033),n=s(98408),i=s(46257),d=s(70207),c=s(95364),o=s(69972),u=s(14866),m=s(27742);function x(e){let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,m.cn)("animate-pulse rounded-md bg-muted",t),...s})}let f=e=>{switch(e){case"passed":return"bg-green-100 text-green-800";case"failed":return"bg-red-100 text-red-800";case"scheduled":return"bg-blue-100 text-blue-800";case"pending_retake":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};var h=e=>{let{tests:t,isLoading:s,onViewDetails:r,showStudentName:l=!1}=e;return s?(0,a.jsx)("div",{className:"space-y-4",children:[void 0,void 0,void 0].map((e,t)=>(0,a.jsxs)("div",{className:"p-4 bg-white rounded-lg shadow-sm",children:[(0,a.jsx)(x,{className:"h-4 w-3/4 mb-2"}),(0,a.jsx)(x,{className:"h-4 w-1/2"})]},t))}):0===t.length?(0,a.jsx)("div",{className:"text-center py-8 px-4",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No test data available."})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(()=>(0,a.jsx)("div",{className:"space-y-4 md:hidden",children:t.map(e=>{var t;return(0,a.jsxs)("div",{className:"bg-white p-5 rounded-xl shadow-sm border border-gray-100",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[l&&(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:(null===(t=e.student)||void 0===t?void 0:t.name)||"Unknown Student"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.class_name}),(0,a.jsx)("span",{className:"text-gray-400",children:"•"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.tilawati_level})]})]}),(0,a.jsx)(u.C,{className:"".concat(f(e.status)," ml-2"),children:e.status.charAt(0).toUpperCase()+e.status.slice(1).replace("_"," ")})]}),(0,a.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Test Date"}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:new Date(e.date).toLocaleDateString("en-US")})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Examiner"}),(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.munaqisy})]})]}),e.notes&&(0,a.jsxs)("div",{className:"pt-3 border-t border-gray-100",children:[(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Notes"}),(0,a.jsx)("p",{className:"text-sm text-gray-700",children:e.notes})]})]}),(0,a.jsxs)(c.z,{variant:"outline",size:"sm",className:"w-full bg-gray-50 hover:bg-gray-100 transition-colors",onClick:()=>r(e),children:[(0,a.jsx)(o.Z,{className:"h-4 w-4 mr-2"}),"View Details"]})]},e.id)})}),{}),(0,a.jsx)(()=>(0,a.jsx)("div",{className:"hidden md:block",children:(0,a.jsxs)(d.iA,{children:[(0,a.jsx)(d.xD,{children:(0,a.jsxs)(d.SC,{children:[l&&(0,a.jsx)(d.ss,{children:"Student Name"}),(0,a.jsx)(d.ss,{children:"Class"}),(0,a.jsx)(d.ss,{children:"Level"}),(0,a.jsx)(d.ss,{children:"Date"}),(0,a.jsx)(d.ss,{children:"Examiner"}),(0,a.jsx)(d.ss,{children:"Status"}),(0,a.jsx)(d.ss,{children:"Notes"}),(0,a.jsx)(d.ss,{className:"text-right",children:"Actions"})]})}),(0,a.jsx)(d.RM,{children:t.map(e=>{var t;return(0,a.jsxs)(d.SC,{children:[l&&(0,a.jsx)(d.pj,{className:"font-medium",children:(null===(t=e.student)||void 0===t?void 0:t.name)||"Unknown Student"}),(0,a.jsx)(d.pj,{children:e.class_name}),(0,a.jsx)(d.pj,{children:e.tilawati_level}),(0,a.jsx)(d.pj,{children:new Date(e.date).toLocaleDateString("en-US")}),(0,a.jsx)(d.pj,{children:e.munaqisy}),(0,a.jsx)(d.pj,{children:(0,a.jsx)(u.C,{className:f(e.status),children:e.status.charAt(0).toUpperCase()+e.status.slice(1).replace("_"," ")})}),(0,a.jsx)(d.pj,{className:"max-w-[200px]",children:(0,a.jsx)("p",{className:"truncate",title:e.notes||"-",children:e.notes||"-"})}),(0,a.jsx)(d.pj,{className:"text-right",children:(0,a.jsxs)(c.z,{variant:"outline",size:"sm",onClick:()=>r(e),children:[(0,a.jsx)(o.Z,{className:"h-4 w-4 mr-2"}),"View Details"]})})]},e.id)})})]})}),{})]})},p=s(88055),b=s(21427),g=s(46573),v=s(39332),j=()=>{let{profile:e}=(0,p.a)(),[t,s]=(0,r.useState)({}),d=(0,v.useRouter)(),{data:c,isLoading:o}=(0,l.a)({queryKey:["parent-tests",t],queryFn:async()=>{let e=g.O.from("tilawati_level_tests").select("\n          *,\n          student:student_id (\n            name\n          )\n        ").order("date",{ascending:!1});t.status&&t.status.length>0&&(e=e.in("status",t.status)),t.level&&t.level.length>0&&(e=e.in("tilawati_level",t.level)),t.searchQuery&&(e=e.ilike("class_name","%".concat(t.searchQuery,"%")));let{data:s,error:a}=await e;if(a)throw console.error("Error fetching tests:",a),a;return s||[]},enabled:!!(null==e?void 0:e.id)}),u=r.useMemo(()=>c?{total:c.length,passed:c.filter(e=>"passed"===e.status).length,scheduled:c.filter(e=>"scheduled"===e.status).length,failed:c.filter(e=>"failed"===e.status).length}:{total:0,passed:0,scheduled:0,failed:0},[c]);return(0,a.jsx)(n.Z,{breadcrumbs:[{label:"Dashboard",href:"/dashboard"},{label:"Tilawati Tests"}],children:(0,a.jsxs)("div",{className:"container mx-auto px-0 py-0 md:px-6 md:py-6 flex flex-col gap-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-2 w-full",children:[(0,a.jsx)("button",{type:"button",onClick:()=>d.back(),className:"p-0 m-0 bg-transparent border-none outline-none flex items-center","aria-label":"Back",children:(0,a.jsx)(b.Z,{className:"h-6 w-6"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Tilawati Test"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 w-full",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-r from-orange-50 to-yellow-100 rounded-lg shadow-sm p-4 text-gray-900 transition duration-200 hover:shadow-lg hover:scale-105 cursor-pointer",children:[(0,a.jsx)("h3",{className:"text-sm text-gray-500",children:"Total Tests"}),(0,a.jsx)("p",{className:"text-2xl font-bold",children:u.total})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-green-100 rounded-lg shadow-sm p-4 text-gray-900 transition duration-200 hover:shadow-lg hover:scale-105 cursor-pointer",children:[(0,a.jsx)("h3",{className:"text-sm text-gray-500",children:"Passed"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-600",children:u.passed})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg shadow-sm p-4 text-gray-900 transition duration-200 hover:shadow-lg hover:scale-105 cursor-pointer",children:[(0,a.jsx)("h3",{className:"text-sm text-gray-500",children:"Scheduled"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:u.scheduled})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-red-50 to-red-100 rounded-lg shadow-sm p-4 text-gray-900 transition duration-200 hover:shadow-lg hover:scale-105 cursor-pointer",children:[(0,a.jsx)("h3",{className:"text-sm text-gray-500",children:"Failed"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-red-600",children:u.failed})]})]}),(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)(i.Z,{searchTerm:t.searchQuery,status:t.status||[],jilidLevel:t.level||[],onFilterChange:(e,t)=>{s(s=>({...s,["searchTerm"===e?"searchQuery":"jilidLevel"===e?"level":e]:t}))}})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden w-full",children:(0,a.jsx)(h,{tests:c||[],isLoading:o,onViewDetails:e=>{var t;alert("Tilawati Test Details:\nStudent: ".concat((null===(t=e.student)||void 0===t?void 0:t.name)||"Unknown","\nDate: ").concat(new Date(e.date).toLocaleDateString("en-US"),"\nClass: ").concat(e.class_name,"\nLevel: ").concat(e.tilawati_level,"\nExaminer: ").concat(e.munaqisy,"\nStatus: ").concat(e.status.charAt(0).toUpperCase()+e.status.slice(1).replace("_"," "),"\nNotes: ").concat(e.notes||"No notes available"))},showStudentName:!0})})]})})}},46069:function(e,t,s){"use strict";s.d(t,{fC:function(){return N},z$:function(){return w}});var a=s(67294),r=s(28771),l=s(25360),n=s(36206),i=s(77342),d=s(57898),c=s(7546),o=s(29115),u=s(75320),m=s(85893),x="Checkbox",[f,h]=(0,l.b)(x),[p,b]=f(x);function g(e){let{__scopeCheckbox:t,checked:s,children:r,defaultChecked:l,disabled:n,form:d,name:c,onCheckedChange:o,required:u,value:f="on",internal_do_not_use_render:h}=e,[b,g]=(0,i.T)({prop:s,defaultProp:l??!1,onChange:o,caller:x}),[v,j]=a.useState(null),[N,y]=a.useState(null),w=a.useRef(!1),k=!v||!!d||!!v.closest("form"),C={checked:b,disabled:n,setChecked:g,control:v,setControl:j,name:c,form:d,value:f,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:!R(l)&&l,isFormControl:k,bubbleInput:N,setBubbleInput:y};return(0,m.jsx)(p,{scope:t,...C,children:"function"==typeof h?h(C):r})}var v="CheckboxTrigger",j=a.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:s,...l},i)=>{let{control:d,value:c,disabled:o,checked:x,required:f,setControl:h,setChecked:p,hasConsumerStoppedPropagationRef:g,isFormControl:j,bubbleInput:N}=b(v,e),y=(0,r.e)(i,h),w=a.useRef(x);return a.useEffect(()=>{let e=d?.form;if(e){let t=()=>p(w.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[d,p]),(0,m.jsx)(u.WV.button,{type:"button",role:"checkbox","aria-checked":R(x)?"mixed":x,"aria-required":f,"data-state":z(x),"data-disabled":o?"":void 0,disabled:o,value:c,...l,ref:y,onKeyDown:(0,n.M)(t,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,n.M)(s,e=>{p(e=>!!R(e)||!e),N&&j&&(g.current=e.isPropagationStopped(),g.current||e.stopPropagation())})})});j.displayName=v;var N=a.forwardRef((e,t)=>{let{__scopeCheckbox:s,name:a,checked:r,defaultChecked:l,required:n,disabled:i,value:d,onCheckedChange:c,form:o,...u}=e;return(0,m.jsx)(g,{__scopeCheckbox:s,checked:r,defaultChecked:l,disabled:i,required:n,onCheckedChange:c,name:a,form:o,value:d,internal_do_not_use_render:({isFormControl:e})=>(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(j,{...u,ref:t,__scopeCheckbox:s}),e&&(0,m.jsx)(C,{__scopeCheckbox:s})]})})});N.displayName=x;var y="CheckboxIndicator",w=a.forwardRef((e,t)=>{let{__scopeCheckbox:s,forceMount:a,...r}=e,l=b(y,s);return(0,m.jsx)(o.z,{present:a||R(l.checked)||!0===l.checked,children:(0,m.jsx)(u.WV.span,{"data-state":z(l.checked),"data-disabled":l.disabled?"":void 0,...r,ref:t,style:{pointerEvents:"none",...e.style}})})});w.displayName=y;var k="CheckboxBubbleInput",C=a.forwardRef(({__scopeCheckbox:e,...t},s)=>{let{control:l,hasConsumerStoppedPropagationRef:n,checked:i,defaultChecked:o,required:x,disabled:f,name:h,value:p,form:g,bubbleInput:v,setBubbleInput:j}=b(k,e),N=(0,r.e)(s,j),y=(0,d.D)(i),w=(0,c.t)(l);a.useEffect(()=>{if(!v)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!n.current;if(y!==i&&e){let s=new Event("click",{bubbles:t});v.indeterminate=R(i),e.call(v,!R(i)&&i),v.dispatchEvent(s)}},[v,y,i,n]);let C=a.useRef(!R(i)&&i);return(0,m.jsx)(u.WV.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??C.current,required:x,disabled:f,name:h,value:p,form:g,...t,tabIndex:-1,ref:N,style:{...t.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function R(e){return"indeterminate"===e}function z(e){return R(e)?"indeterminate":e?"checked":"unchecked"}C.displayName=k},57898:function(e,t,s){"use strict";s.d(t,{D:function(){return r}});var a=s(67294);function r(e){let t=a.useRef({value:e,previous:e});return a.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}}},function(e){e.O(0,[9332,1799,8288,1664,1063,4033,2888,9774,179],function(){return e(e.s=9092)}),_N_E=e.O()}]);