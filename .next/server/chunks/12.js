"use strict";exports.id=12,exports.ids=[12],exports.modules={42123:(e,a,s)=>{s.d(a,{Z:()=>c});var r=s(10326),n=s(17577),t=s(90434),m=s(35047),l=s(5932),u=s(29798),i=s(24061),b=s(12070),d=s(85529),h=s(71810),o=s(91664),v=s(3594);let c=({isMobileMenuOpen:e,setIsMobileMenuOpen:a})=>{let s=(0,m.usePathname)(),c=(0,m.useRouter)(),{profile:A,signOut:f}=(0,l.a)();(0,n.useEffect)(()=>{a(!1)},[s,a]),(0,n.useEffect)(()=>{let s=s=>{let r=document.getElementById("teacher-sidebar");e&&r&&!r.contains(s.target)&&a(!1)};return document.addEventListener("mousedown",s),()=>document.removeEventListener("mousedown",s)},[e,a]);let x=async()=>{await f(),c.push("/")};if(A?.role!=="teacher")return null;let g=[{href:"/dashboard",label:"Dashboard",icon:u.Z},{href:"/students",label:"Students",icon:i.Z},{href:"/tests/manage",label:"Level Tests",icon:b.Z},{href:"/profile",label:"Profile",icon:d.Z}];return(0,r.jsxs)(r.Fragment,{children:[e&&r.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40 transition-opacity duration-300",onClick:()=>a(!1),"aria-hidden":"true"}),(0,r.jsxs)("aside",{id:"teacher-sidebar",className:`
          w-64 min-h-screen bg-gradient-to-r from-green-400 to-teal-500 text-white shadow-lg 
          fixed top-0 left-0 z-40 transform transition-transform duration-300 ease-in-out
          lg:translate-x-0 ${e?"translate-x-0":"-translate-x-full"}
          overflow-y-auto scrollbar-thin scrollbar-thumb-teal-600 scrollbar-track-transparent
        `,children:[r.jsx("div",{className:"sticky top-0 bg-gradient-to-r from-green-400 to-teal-500 pt-6 pb-4 px-5",children:(0,r.jsxs)(t.default,{href:"/dashboard",className:"flex items-center space-x-3",onClick:()=>a(!1),children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-teal-500 to-green-500 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-xl",children:"M"})}),r.jsx("span",{className:"font-sf-pro font-semibold text-xl text-white",children:"Mutabaahly"})]})}),r.jsx("nav",{className:"px-5 py-6 space-y-2",children:g.map(e=>{let n=e.icon,m=s===e.href||"/dashboard"!==e.href&&s?.startsWith(e.href)&&"/"!==e.href;return(0,r.jsxs)(t.default,{href:e.href,onClick:()=>a(!1),className:`
                  flex items-center space-x-3 p-3 rounded-xl text-gray-200 
                  hover:bg-teal-600/50 hover:text-white transition-all duration-150 ease-in-out
                  ${m?"bg-teal-600/70 text-white shadow-md":""}
                `,children:[r.jsx(n,{className:"h-5 w-5 flex-shrink-0"}),r.jsx("span",{className:"text-base font-medium",children:e.label})]},e.label)})}),(0,r.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 px-5 py-4 bg-teal-600/30",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[r.jsx(v.qE,{className:"h-10 w-10",children:r.jsx(v.Q5,{className:"bg-teal-600",children:A?.full_name?.split(" ").map(e=>e[0]).join("").toUpperCase()})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-white truncate",children:A?.full_name}),r.jsx("p",{className:"text-xs text-gray-300 truncate",children:"Teacher"})]})]}),(0,r.jsxs)(o.z,{variant:"ghost",className:"w-full justify-start text-gray-200 hover:text-white hover:bg-teal-600/50",onClick:x,children:[r.jsx(h.Z,{className:"h-4 w-4 mr-2"}),"Sign Out"]})]})]})]})}},83573:(e,a,s)=>{s.d(a,{Z:()=>d});var r=s(10326),n=s(17577),t=s.n(n),m=s(5932),l=s(35047),u=s(42123),i=s(36653),b=s(90748);let d=({children:e,breadcrumbs:a})=>{let{profile:s,loading:d}=(0,m.a)(),h=(0,l.useRouter)(),[o,v]=(0,n.useState)(!1);return(t().useEffect(()=>{d||s?.role==="teacher"||h.push("/dashboard")},[d,s,h]),d)?r.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-islamic-500"})}):s?.role!=="teacher"?null:(0,r.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,r.jsxs)("header",{className:"sticky top-0 z-40 bg-white shadow-sm flex items-center justify-between h-16 px-4 lg:px-8 lg:hidden",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-teal-500 to-green-500 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-lg",children:"M"})}),r.jsx("span",{className:"font-semibold text-lg text-gray-900 hidden sm:inline",children:"Mutabaahly"})]}),r.jsx("button",{className:"lg:hidden p-2 rounded-md text-teal-700 hover:bg-teal-50",onClick:()=>v(e=>!e),children:r.jsx(b.Z,{className:"h-7 w-7"})})]}),r.jsx(u.Z,{isMobileMenuOpen:o,setIsMobileMenuOpen:v}),(0,r.jsxs)("main",{className:"lg:pl-64 min-h-screen",children:[a&&r.jsx("div",{className:"pt-6 px-4 lg:px-8",children:r.jsx(i.Z,{items:a})}),r.jsx("div",{className:"container mx-auto pt-2 pb-6 px-4 lg:px-8",children:r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e})})]})]})}},80287:(e,a,s)=>{s.d(a,{B:()=>n,L:()=>t});var r=s(31227);let n=e=>{if(!e||0===e.length)return{percentage:0,last_surah:null,total_verses:0};let a=[...e].sort((e,a)=>new Date(a.date).getTime()-new Date(e.date).getTime()),s=a[0].surah_or_jilid,n=(0,r.Ig)(s);if(!n)return{percentage:0,last_surah:s,total_verses:0};let t=new Date(a[0].date);for(let e=1;e<a.length;e++)if(a[e].surah_or_jilid!==s){t=new Date(a[0].date);break}let m=e.filter(e=>e.surah_or_jilid===s&&new Date(e.date)>=t),l=new Set;for(let e of m)if(e.ayat_or_page){let a=e.ayat_or_page;if(a.includes("-")){let[e,s]=a.split("-").map(e=>parseInt(e.trim()));if(!isNaN(e)&&!isNaN(s)&&s>=e)for(let a=e;a<=s;a++)a<=n.verses&&l.add(a)}else{let e=parseInt(a);!isNaN(e)&&e<=n.verses&&l.add(e)}}let u=l.size;return{percentage:Math.min(Math.round(u/n.verses*100),100),last_surah:s,total_verses:u,start_date:t.toISOString().split("T")[0]}},t=e=>{if(!e||0===e.length)return console.log("No entries provided for progress calculation"),{percentage:0,jilid:null,total_pages:0};let a=[...e].sort((e,a)=>new Date(a.date).getTime()-new Date(e.date).getTime())[0],s=0,r=null;if(a&&(r=a.surah_or_jilid,console.log("Latest entry:",a),a.ayat_or_page)){let e=a.ayat_or_page;if(console.log("Processing page range:",e),e&&e.includes("-")){let[,a]=e.split("-").map(e=>parseInt(e.trim()));isNaN(a)||(s=a)}else if(e){let a=parseInt(e.trim());isNaN(a)||(s=a)}}let n=Math.min(Math.round(s/44*100),100);return console.log("Calculated percentage:",n,"based on page",s,"out of",44),{percentage:n,jilid:r,total_pages:s}}},31227:(e,a,s)=>{s.d(a,{Ig:()=>n,n5:()=>r});let r=[{number:1,name:"Al-Fatihah",verses:7},{number:2,name:"Al-Baqarah",verses:286},{number:3,name:"Ali 'Imran",verses:200},{number:4,name:"An-Nisa",verses:176},{number:5,name:"Al-Ma'idah",verses:120},{number:6,name:"Al-An'am",verses:165},{number:7,name:"Al-A'raf",verses:206},{number:8,name:"Al-Anfal",verses:75},{number:9,name:"At-Tawbah",verses:129},{number:10,name:"Yunus",verses:109},{number:11,name:"Hud",verses:123},{number:12,name:"Yusuf",verses:111},{number:13,name:"Ar-Ra'd",verses:43},{number:14,name:"Ibrahim",verses:52},{number:15,name:"Al-Hijr",verses:99},{number:16,name:"An-Nahl",verses:128},{number:17,name:"Al-Isra",verses:111},{number:18,name:"Al-Kahf",verses:110},{number:19,name:"Maryam",verses:98},{number:20,name:"Taha",verses:135},{number:21,name:"Al-Anbya",verses:112},{number:22,name:"Al-Hajj",verses:78},{number:23,name:"Al-Mu'minun",verses:118},{number:24,name:"An-Nur",verses:64},{number:25,name:"Al-Furqan",verses:77},{number:26,name:"Ash-Shu'ara",verses:227},{number:27,name:"An-Naml",verses:93},{number:28,name:"Al-Qasas",verses:88},{number:29,name:"Al-'Ankabut",verses:69},{number:30,name:"Ar-Rum",verses:60},{number:31,name:"Luqman",verses:34},{number:32,name:"As-Sajdah",verses:30},{number:33,name:"Al-Ahzab",verses:73},{number:34,name:"Saba",verses:54},{number:35,name:"Fatir",verses:45},{number:36,name:"Ya-Sin",verses:83},{number:37,name:"As-Saffat",verses:182},{number:38,name:"Sad",verses:88},{number:39,name:"Az-Zumar",verses:75},{number:40,name:"Ghafir",verses:85},{number:41,name:"Fussilat",verses:54},{number:42,name:"Ash-Shuraa",verses:53},{number:43,name:"Az-Zukhruf",verses:89},{number:44,name:"Ad-Dukhan",verses:59},{number:45,name:"Al-Jathiyah",verses:37},{number:46,name:"Al-Ahqaf",verses:35},{number:47,name:"Muhammad",verses:38},{number:48,name:"Al-Fath",verses:29},{number:49,name:"Al-Hujurat",verses:18},{number:50,name:"Qaf",verses:45},{number:51,name:"Adh-Dhariyat",verses:60},{number:52,name:"At-Tur",verses:49},{number:53,name:"An-Najm",verses:62},{number:54,name:"Al-Qamar",verses:55},{number:55,name:"Ar-Rahman",verses:78},{number:56,name:"Al-Waqi'ah",verses:96},{number:57,name:"Al-Hadid",verses:29},{number:58,name:"Al-Mujadila",verses:22},{number:59,name:"Al-Hashr",verses:24},{number:60,name:"Al-Mumtahanah",verses:13},{number:61,name:"As-Saff",verses:14},{number:62,name:"Al-Jumu'ah",verses:11},{number:63,name:"Al-Munafiqun",verses:11},{number:64,name:"At-Taghabun",verses:18},{number:65,name:"At-Talaq",verses:12},{number:66,name:"At-Tahrim",verses:12},{number:67,name:"Al-Mulk",verses:30},{number:68,name:"Al-Qalam",verses:52},{number:69,name:"Al-Haqqah",verses:52},{number:70,name:"Al-Ma'arij",verses:44},{number:71,name:"Nuh",verses:28},{number:72,name:"Al-Jinn",verses:28},{number:73,name:"Al-Muzzammil",verses:20},{number:74,name:"Al-Muddaththir",verses:56},{number:75,name:"Al-Qiyamah",verses:40},{number:76,name:"Al-Insan",verses:31},{number:77,name:"Al-Mursalat",verses:50},{number:78,name:"An-Naba",verses:40},{number:79,name:"An-Nazi'at",verses:46},{number:80,name:"Abasa",verses:42},{number:81,name:"At-Takwir",verses:29},{number:82,name:"Al-Infitar",verses:19},{number:83,name:"Al-Mutaffifin",verses:36},{number:84,name:"Al-Inshiqaq",verses:25},{number:85,name:"Al-Buruj",verses:22},{number:86,name:"At-Tariq",verses:17},{number:87,name:"Al-A'la",verses:19},{number:88,name:"Al-Ghashiyah",verses:26},{number:89,name:"Al-Fajr",verses:30},{number:90,name:"Al-Balad",verses:20},{number:91,name:"Ash-Shams",verses:15},{number:92,name:"Al-Layl",verses:21},{number:93,name:"Ad-Duhaa",verses:11},{number:94,name:"Ash-Sharh",verses:8},{number:95,name:"At-Tin",verses:8},{number:96,name:"Al-'Alaq",verses:19},{number:97,name:"Al-Qadr",verses:5},{number:98,name:"Al-Bayyinah",verses:8},{number:99,name:"Az-Zalzalah",verses:8},{number:100,name:"Al-'Adiyat",verses:11},{number:101,name:"Al-Qari'ah",verses:11},{number:102,name:"At-Takathur",verses:8},{number:103,name:"Al-'Asr",verses:3},{number:104,name:"Al-Humazah",verses:9},{number:105,name:"Al-Fil",verses:5},{number:106,name:"Quraysh",verses:4},{number:107,name:"Al-Ma'un",verses:7},{number:108,name:"Al-Kawthar",verses:3},{number:109,name:"Al-Kafirun",verses:6},{number:110,name:"An-Nasr",verses:3},{number:111,name:"Al-Masad",verses:5},{number:112,name:"Al-Ikhlas",verses:4},{number:113,name:"Al-Falaq",verses:5},{number:114,name:"An-Nas",verses:6}],n=e=>{let a=e.toLowerCase().replace(/[''`-]/g,"").replace(/^(al|at|an|ar|ad|as|ash|az)[\s-]*/i,"");return r.find(e=>{let s=e.name.toLowerCase().replace(/[''`-]/g,"").replace(/^(al|at|an|ar|ad|as|ash|az)[\s-]*/i,"");return s===a||s.includes(a)||a.includes(s)})}}};