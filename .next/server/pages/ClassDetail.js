"use strict";(()=>{var e={};e.id=811,e.ids=[811,660],e.modules={112:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{config:()=>g,default:()=>p,getServerSideProps:()=>f,getStaticPaths:()=>h,getStaticProps:()=>u,reportWebVitals:()=>b,routeModule:()=>S,unstable_getServerProps:()=>w,unstable_getServerSideProps:()=>v,unstable_getStaticParams:()=>N,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>y});var r=a(87093),l=a(35244),n=a(1323),i=a(61682),o=a.n(i),d=a(48141),c=a.n(d),m=a(55621),x=e([m]);m=(x.then?(await x)():x)[0];let p=(0,n.l)(m,"default"),u=(0,n.l)(m,"getStaticProps"),h=(0,n.l)(m,"getStaticPaths"),f=(0,n.l)(m,"getServerSideProps"),g=(0,n.l)(m,"config"),b=(0,n.l)(m,"reportWebVitals"),y=(0,n.l)(m,"unstable_getStaticProps"),j=(0,n.l)(m,"unstable_getStaticPaths"),N=(0,n.l)(m,"unstable_getStaticParams"),w=(0,n.l)(m,"unstable_getServerProps"),v=(0,n.l)(m,"unstable_getServerSideProps"),S=new r.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/ClassDetail",pathname:"/ClassDetail",bundlePath:"",filename:""},components:{App:c(),Document:o()},userland:m});s()}catch(e){s(e)}})},99737:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(33592).Z)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},37663:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(33592).Z)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},21427:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(33592).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},50231:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(33592).Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},19078:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(33592).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},17911:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(33592).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},22972:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(33592).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},61390:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.d(t,{Z:()=>y});var r=a(20997);a(16689);var l=a(41664),n=a.n(l),i=a(39332),o=a(88055),d=a(95364),c=a(42964),m=a(92568),x=a(99737),p=a(37663),u=a(62487),h=a(89934),f=a(3498),g=a(55051),b=e([d,c,g]);[d,c,g]=b.then?(await b)():b;let y=()=>{let{profile:e,signOut:t}=(0,o.a)(),a=(0,i.useRouter)(),s=(0,i.usePathname)(),l=async()=>{await t(),a.push("/")},b=[{href:"/dashboard",label:"Dashboard",icon:m.Z},{href:"/students",label:"Student Rankings",mobileLabel:"Student Ranks",icon:x.Z},{href:"/tests/view",label:"Test Results",icon:p.Z},{href:"/profile",label:"Profile",icon:u.Z}],y=e=>s===e||"/dashboard"!==e&&s?.startsWith(e);return(0,r.jsxs)(r.Fragment,{children:[r.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/60",children:r.jsx("nav",{className:"container mx-auto px-4",children:(0,r.jsxs)("div",{className:"flex h-16 items-center justify-between md:justify-between",children:[r.jsx("div",{className:"flex-1 flex justify-center md:justify-start items-center gap-2",children:(0,r.jsxs)(n(),{href:"/dashboard",className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-9 h-9 bg-gradient-to-r from-green-400 to-teal-500 rounded-lg flex items-center justify-center shadow-sm",children:r.jsx("span",{className:"text-white font-bold text-xl",children:"M"})}),r.jsx("span",{className:"font-sf-pro font-semibold text-base bg-gradient-to-r from-green-400 to-teal-500 bg-clip-text text-transparent hidden sm:block",children:"Mutabaahly"})]})}),r.jsx("div",{className:"hidden md:flex items-center gap-6",children:b.map(e=>(0,r.jsxs)(n(),{href:e.href,className:`
                    flex items-center gap-2 text-sm font-medium transition-colors
                    ${y(e.href)?"bg-gradient-to-r from-green-400 to-teal-500 bg-clip-text text-transparent":"text-gray-600 hover:bg-gradient-to-r hover:from-green-400 hover:to-teal-500 hover:bg-clip-text hover:text-transparent"}
                  `,children:[r.jsx(e.icon,{className:`h-4 w-4 ${y(e.href)?"text-teal-500":"text-gray-600 group-hover:text-teal-500"}`}),e.label]},e.label))}),r.jsx("div",{className:"hidden md:flex items-center gap-4",children:(0,r.jsxs)(g.h_,{children:[r.jsx(g.$F,{asChild:!0,children:(0,r.jsxs)(d.z,{variant:"ghost",className:"flex items-center gap-2",children:[r.jsx(c.qE,{className:"h-8 w-8",children:r.jsx(c.Q5,{className:"bg-green-100 text-teal-700",children:e?.full_name?.split(" ").map(e=>e[0]).join("").toUpperCase()})}),r.jsx("span",{className:"text-sm font-medium bg-gradient-to-r from-green-400 to-teal-500 bg-clip-text text-transparent",children:e?.full_name}),r.jsx(h.Z,{className:"h-4 w-4 text-teal-500"})]})}),r.jsx(g.AW,{align:"end",className:"w-48",children:(0,r.jsxs)(g.Xi,{onClick:l,className:"text-red-600",children:[r.jsx(f.Z,{className:"mr-2 h-4 w-4"}),"Sign Out"]})})]})})]})})}),r.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 md:hidden bg-white border-t shadow-lg",children:r.jsx("div",{className:"flex justify-around items-center h-14",children:b.map(e=>(0,r.jsxs)(n(),{href:e.href,className:`flex flex-col items-center justify-center flex-1 py-2 transition-colors ${y(e.href)?"text-teal-600":"text-gray-400 hover:text-teal-500"}`,children:[r.jsx(e.icon,{className:`h-6 w-6 mb-0.5 ${y(e.href)?"text-teal-600":"text-gray-400"}`}),r.jsx("span",{className:"text-xs font-medium",children:e.mobileLabel||e.label})]},e.label))})})]})};s()}catch(e){s(e)}})},58128:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.d(t,{Z:()=>p});var r=a(20997);a(16689);var l=a(50947),n=a(95364),i=a(14866),o=a(42964),d=a(17911),c=a(99737),m=a(37663),x=e([l,n,i,o]);[l,n,i,o]=x.then?(await x)():x;let p=({student:e,onViewDetails:t})=>{let a=e=>{switch(e){case"completed":return"success";case"inProgress":return"info";default:return"neutral"}},s=e=>{switch(e){case"completed":return"Completed";case"inProgress":return"In Progress";case"notStarted":return"Not Started";default:return e}},x=e=>e>=80?"bg-islamic-500":e>=60?"bg-blue-500":e>=40?"bg-accent-500":"bg-gray-500";return(0,r.jsxs)(l.Zb,{className:"bg-white hover:shadow-xl transition-all duration-300 border-0 shadow-md rounded-xl overflow-hidden",children:[r.jsx(l.Ol,{className:"p-4 sm:p-6 pb-4 bg-gradient-to-r from-islamic-50 to-accent-50",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-center sm:items-center space-y-3 sm:space-y-0 sm:space-x-4 text-center sm:text-left",children:[(0,r.jsxs)(o.qE,{className:"h-16 w-16 border-3 border-white shadow-lg mx-auto sm:mx-0",children:[r.jsx(o.F$,{src:e.photo||"/avatars/placeholder.png",alt:e.name,className:"object-cover"}),r.jsx(o.Q5,{className:"bg-islamic-500 text-white text-lg font-semibold",children:e.name.split(" ").map(e=>e[0]).join("").substring(0,2)})]}),(0,r.jsxs)("div",{className:"flex-1 flex flex-col items-center sm:items-start",children:[r.jsx(l.ll,{className:"text-lg font-bold text-gray-900 mb-1 text-center sm:text-left",children:e.name}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2 justify-center sm:justify-start",children:[r.jsx(i.C,{variant:"outline",size:"sm",className:"border-islamic-500 text-islamic-700",children:e.class}),(0,r.jsxs)(i.C,{variant:"secondary",size:"sm",className:"bg-accent/10 text-accent-foreground/80",children:[r.jsx(d.Z,{className:"h-3 w-3 mr-1"}),e.studyGroup]})]})]})]})}),(0,r.jsxs)(l.aY,{className:"p-4 sm:p-6 space-y-5",children:[(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(c.Z,{className:"h-5 w-5 text-islamic-600"}),r.jsx("span",{className:"text-sm font-semibold text-gray-800",children:"Tahfidz Al-Quran"})]}),r.jsx(i.C,{variant:a(e.memorization.status),size:"sm",className:"whitespace-nowrap self-start sm:self-auto",children:s(e.memorization.status)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"Progress"}),(0,r.jsxs)("span",{className:"text-xs font-bold text-gray-800",children:[e.memorization.progress,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 overflow-hidden",children:r.jsx("div",{className:`h-2.5 rounded-full transition-all duration-500 ${x(e.memorization.progress)}`,style:{width:`${e.memorization.progress}%`}})}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Current: ",e.memorization.currentSurah]})]})]}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(m.Z,{className:"h-5 w-5 text-accent-600"}),r.jsx("span",{className:"text-sm font-semibold text-gray-800",children:"Tahsin/Tilawati"})]}),r.jsx(i.C,{variant:a(e.tilawati.status),size:"sm",className:"whitespace-nowrap self-start sm:self-auto",children:s(e.tilawati.status)})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[r.jsx("span",{className:"text-xs text-gray-600",children:"Progress"}),(0,r.jsxs)("span",{className:"text-xs font-bold text-gray-800",children:[e.tilawati.progress,"%"]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 overflow-hidden",children:r.jsx("div",{className:`h-2.5 rounded-full transition-all duration-500 ${x(e.tilawati.progress)}`,style:{width:`${e.tilawati.progress}%`}})}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Level: ",e.tilawati.currentLevel]})]})]}),r.jsx(n.z,{onClick:()=>t(e.id),className:"w-full mt-6 bg-gradient-to-r from-emerald-500 to-teal-400 hover:opacity-90 text-white shadow-lg rounded-full font-medium transition-all duration-300",children:"View Details"})]})]})};s()}catch(e){s(e)}})},52554:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.d(t,{Z:()=>d});var r=a(20997);a(16689);var l=a(50947),n=a(56286),i=a(58128),o=e([l,i]);[l,i]=o.then?(await o)():o;let d=({students:e,filteredStudents:t,onViewDetails:a,userRole:s})=>0===t.length?r.jsx(l.Zb,{className:"bg-white shadow-sm",children:(0,r.jsxs)(l.aY,{className:"p-12 text-center",children:[r.jsx(n.Z,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:0===e.length?"No Students Found":"No Students Match Your Filters"}),r.jsx("p",{className:"text-gray-600",children:0===e.length?"teacher"===s?"Start by adding students to your class.":"No students assigned to your account.":"Try adjusting your search or filter criteria."})]})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map(e=>r.jsx(i.Z,{student:{id:e.id,name:e.name,class:e.group_name,studyGroup:e.teacher,memorization:{progress:e.hafalan_progress?.percentage||0,status:100===(e.hafalan_progress?.percentage||0)?"completed":(e.hafalan_progress?.percentage||0)>0?"inProgress":"notStarted",currentSurah:e.hafalan_progress?.last_surah||"Not started"},tilawati:{progress:e.tilawah_progress?.percentage||0,status:100===(e.tilawah_progress?.percentage||0)?"completed":(e.tilawah_progress?.percentage||0)>0?"inProgress":"notStarted",currentLevel:e.tilawah_progress?.jilid||"Not started"}},onViewDetails:a},e.id))});s()}catch(e){s(e)}})},6406:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.d(t,{Z:()=>x});var r=a(20997),l=a(16689),n=a.n(l),i=a(88055),o=a(39332),d=a(69750),c=a(61390),m=e([c]);c=(m.then?(await m)():m)[0];let x=({children:e,breadcrumbs:t})=>{let{profile:a,loading:s}=(0,i.a)(),l=(0,o.useRouter)();return(n().useEffect(()=>{s||a?.role==="parent"||l.push("/dashboard")},[s,a,l]),s)?r.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-islamic-500"})}):a?.role!=="parent"?null:(0,r.jsxs)("div",{className:"min-h-screen bg-gray-100 pt-0",children:[r.jsx(c.Z,{}),t&&r.jsx("div",{className:"pt-6 px-4 lg:px-8",children:r.jsx(d.Z,{items:t})}),r.jsx("main",{className:"container mx-auto pt-2 pb-6 px-4 lg:px-8",children:r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e})})]})};s()}catch(e){s(e)}})},14866:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.d(t,{C:()=>c});var r=a(20997),l=a(16689),n=a(16926),i=a(27742),o=e([n,i]);[n,i]=o.then?(await o)():o;let d=(0,n.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-islamic-500 text-white hover:bg-islamic-600",warning:"border-transparent bg-accent-500 text-white hover:bg-accent-600",info:"border-transparent bg-blue-500 text-white hover:bg-blue-600",neutral:"border-transparent bg-gray-400 text-white hover:bg-accent-500"},size:{default:"text-xs px-2.5 py-0.5",sm:"text-[10px] px-2 py-0.5",lg:"text-sm px-3 py-1"}},defaultVariants:{variant:"default",size:"default"}}),c=l.forwardRef(({className:e,variant:t,size:a,...s},l)=>r.jsx("div",{ref:l,className:(0,i.cn)(d({variant:t,size:a}),e),...s}));c.displayName="Badge",s()}catch(e){s(e)}})},50947:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.d(t,{Ol:()=>d,Zb:()=>o,aY:()=>m,ll:()=>c});var r=a(20997),l=a(16689),n=a(27742),i=e([n]);n=(i.then?(await i)():i)[0];let o=l.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));o.displayName="Card";let d=l.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));d.displayName="CardHeader";let c=l.forwardRef(({className:e,...t},a)=>r.jsx("h3",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));c.displayName="CardTitle",l.forwardRef(({className:e,...t},a)=>r.jsx("p",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let m=l.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,n.cn)("p-6 pt-0",e),...t}));m.displayName="CardContent",l.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter",s()}catch(e){s(e)}})},82698:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.d(t,{X:()=>c});var r=a(20997),l=a(16689),n=a(11601),i=a(80906),o=a(27742),d=e([n,o]);[n,o]=d.then?(await d)():d;let c=l.forwardRef(({className:e,...t},a)=>r.jsx(n.Root,{ref:a,className:(0,o.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(n.Indicator,{className:(0,o.cn)("flex items-center justify-center text-current"),children:r.jsx(i.Z,{className:"h-4 w-4"})})}));c.displayName=n.Root.displayName,s()}catch(e){s(e)}})},55051:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.d(t,{$F:()=>p,AW:()=>u,VD:()=>f,Xi:()=>h,h_:()=>x});var r=a(20997),l=a(16689),n=a(31481),i=a(47782),o=a(80906),d=a(50231),c=a(27742),m=e([n,c]);[n,c]=m.then?(await m)():m;let x=n.Root,p=n.Trigger;n.Group,n.Portal,n.Sub,n.RadioGroup,l.forwardRef(({className:e,inset:t,children:a,...s},l)=>(0,r.jsxs)(n.SubTrigger,{ref:l,className:(0,c.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[a,r.jsx(i.Z,{className:"ml-auto h-4 w-4"})]})).displayName=n.SubTrigger.displayName,l.forwardRef(({className:e,...t},a)=>r.jsx(n.SubContent,{ref:a,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})).displayName=n.SubContent.displayName;let u=l.forwardRef(({className:e,sideOffset:t=4,...a},s)=>r.jsx(n.Portal,{children:r.jsx(n.Content,{ref:s,sideOffset:t,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));u.displayName=n.Content.displayName;let h=l.forwardRef(({className:e,inset:t,...a},s)=>r.jsx(n.Item,{ref:s,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...a}));h.displayName=n.Item.displayName,l.forwardRef(({className:e,children:t,checked:a,...s},l)=>(0,r.jsxs)(n.CheckboxItem,{ref:l,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:a,...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(n.ItemIndicator,{children:r.jsx(o.Z,{className:"h-4 w-4"})})}),t]})).displayName=n.CheckboxItem.displayName,l.forwardRef(({className:e,children:t,...a},s)=>(0,r.jsxs)(n.RadioItem,{ref:s,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(n.ItemIndicator,{children:r.jsx(d.Z,{className:"h-2 w-2 fill-current"})})}),t]})).displayName=n.RadioItem.displayName,l.forwardRef(({className:e,inset:t,...a},s)=>r.jsx(n.Label,{ref:s,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...a})).displayName=n.Label.displayName;let f=l.forwardRef(({className:e,...t},a)=>r.jsx(n.Separator,{ref:a,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",e),...t}));f.displayName=n.Separator.displayName,s()}catch(e){s(e)}})},87095:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.d(t,{I:()=>o});var r=a(20997),l=a(16689),n=a(27742),i=e([n]);n=(i.then?(await i)():i)[0];let o=l.forwardRef(({className:e,type:t,...a},s)=>r.jsx("input",{type:t,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...a}));o.displayName="Input",s()}catch(e){s(e)}})},55621:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{default:()=>j});var r=a(20997),l=a(16689),n=a(39332),i=a(58474),o=a(6406),d=a(88055),c=a(52554),m=a(87095),x=a(82698),p=a(70550),u=a(43463),h=a(21427),f=a(19078),g=a(22972),b=a(49175),y=e([i,o,c,m,x]);[i,o,c,m,x]=y.then?(await y)():y;let j=()=>{let e=(0,n.useParams)(),t=decodeURIComponent(e?.className);console.log("DEBUG: className param:",t);let{profile:a}=(0,d.a)(),s=(0,n.useRouter)(),[y,j]=(0,l.useState)([]),[N,w]=(0,l.useState)(!0),[v,S]=(0,l.useState)(""),[k,Z]=(0,l.useState)([]),[C,P]=(0,l.useState)(!1);(0,l.useEffect)(()=>{(async()=>{w(!0);let{data:e,error:a}=await p.O.from("students").select("*").eq("group_name",t);if(console.log("DEBUG: studentsData:",e,"studentsError:",a),a||!e){j([]),w(!1);return}let s=await Promise.all(e.map(async e=>{try{let{data:t}=await p.O.from("progress_entries").select("*").eq("student_id",e.id).eq("type","hafalan"),{data:a}=await p.O.from("progress_entries").select("*").eq("student_id",e.id).eq("type","tilawah"),s=(0,u.B)(t||[]),r=(0,u.L)(a||[]);return{...e,hafalan_progress:s.percentage>0?s:null,tilawah_progress:r.percentage>0?r:null}}catch{return{...e,hafalan_progress:null,tilawah_progress:null}}}));j(s),w(!1)})()},[t]);let R=b.LQ,_=e=>{if(R.some(t=>t.id===e.teacher))return e.teacher;let t=R.find(t=>t.name===e.teacher);return t?t.id:e.teacher},z=y.filter(e=>e.name.toLowerCase().includes(v.toLowerCase())&&(0===k.length||k.includes(_(e)))),q=k.length>0,I=()=>Z([]),$=[{label:"Dashboard",href:"/dashboard"},{label:t}],D=(0,r.jsxs)("div",{className:"space-y-6",children:[r.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("button",{type:"button",onClick:()=>s.back(),className:"p-0 m-0 bg-transparent border-none outline-none flex items-center mr-2","aria-label":"Back",children:r.jsx(h.Z,{className:"h-6 w-6"})}),(0,r.jsxs)("h1",{className:"text-xl sm:text-2xl font-bold flex items-center gap-2",children:[t,r.jsx("span",{className:"inline-flex items-center justify-center px-2 py-0.5 ml-1 text-xs font-semibold leading-none text-white bg-emerald-500 rounded-full",children:z.length})]})]})}),(0,r.jsxs)("div",{className:"sticky top-14 z-20 bg-gradient-to-br from-white to-gray-50 rounded-2xl shadow-lg border border-gray-200 mb-6 px-0 sm:px-0",children:[r.jsx("div",{className:"px-6 pt-6 pb-2",children:r.jsx(m.I,{placeholder:"Search students in this class...",value:v,onChange:e=>S(e.target.value),className:"w-full bg-gray-50 border border-gray-200 rounded-lg focus:border-blue-400 focus:ring-2 focus:ring-blue-100 text-base py-2 px-4 shadow-sm"})}),r.jsx("div",{className:"border-t border-gray-100 mx-6"}),(0,r.jsxs)("button",{type:"button",className:"w-full flex items-center gap-3 px-6 py-4 border-b border-gray-100 hover:bg-gray-50 focus:outline-none",onClick:()=>P(e=>!e),"aria-expanded":C,children:[r.jsx("div",{className:"p-2 bg-blue-50 rounded-lg",children:r.jsx(f.Z,{className:"h-4 w-4 text-blue-600"})}),(0,r.jsxs)("div",{className:"flex-1 text-left",children:[r.jsx("h3",{className:"font-semibold text-gray-900 text-base sm:text-lg",children:"Teacher Filters"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Select one or more teachers to filter students"}),q&&(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-wrap mt-2",children:[k.map(e=>{let t=R.find(t=>t.id===e);return(0,r.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 sm:px-3 sm:py-1 bg-blue-100 text-blue-700 text-xs sm:text-sm rounded-full border border-blue-200",children:[t?.name||e,r.jsx("button",{type:"button",onClick:t=>{t.stopPropagation(),Z(t=>t.filter(t=>t!==e))},className:"ml-1 text-xs text-gray-400 hover:text-red-600","aria-label":"Remove teacher filter",children:r.jsx(g.Z,{className:"h-3 w-3"})})]},e)}),r.jsx("button",{type:"button",onClick:e=>{e.stopPropagation(),I()},className:"ml-2 text-xs text-gray-500 hover:text-red-600 underline",children:"Clear Filters"})]})]}),r.jsx("span",{className:"ml-auto text-xs text-gray-500 font-medium",children:C?"Hide":"Show"})]}),C&&r.jsx("div",{className:"px-6 pb-6 pt-2",children:r.jsx("div",{className:"max-h-48 overflow-y-auto flex flex-col gap-2 pr-2",children:R.map(e=>(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(x.X,{id:`teacher-filter-${e.id}`,checked:k.includes(e.id),onCheckedChange:()=>{Z(t=>t.includes(e.id)?t.filter(t=>t!==e.id):[...t,e.id])},className:"rounded-full"}),r.jsx("label",{htmlFor:`teacher-filter-${e.id}`,className:"text-sm text-gray-700 cursor-pointer",children:e.name})]},e.id))})})]}),N?r.jsx("div",{className:"text-center py-12 text-gray-500",children:"Loading students..."}):r.jsx(c.Z,{students:y.map(e=>({...e,grade:e.grade||"Unknown"})),filteredStudents:z.map(e=>({...e,grade:e.grade||"Unknown"})),onViewDetails:e=>{s.push(`/student/${e}`)},userRole:a?.role||"parent"})]});return a?.role==="parent"?r.jsx(o.Z,{breadcrumbs:$,children:D}):r.jsx(i.Z,{breadcrumbs:$,children:r.jsx("div",{className:"container mx-auto px-0 py-0 md:px-6 md:py-6",children:D})})};s()}catch(e){s(e)}})},92885:e=>{e.exports=require("@supabase/supabase-js")},72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},62785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},16689:e=>{e.exports=require("react")},20997:e=>{e.exports=require("react/jsx-runtime")},55315:e=>{e.exports=require("path")},25458:e=>{e.exports=import("@radix-ui/react-avatar")},11601:e=>{e.exports=import("@radix-ui/react-checkbox")},31481:e=>{e.exports=import("@radix-ui/react-dropdown-menu")},14338:e=>{e.exports=import("@radix-ui/react-slot")},16926:e=>{e.exports=import("class-variance-authority")},16593:e=>{e.exports=import("clsx")},68097:e=>{e.exports=import("tailwind-merge")}};var t=require("../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[682,54,840,944,800],()=>a(112));module.exports=s})();