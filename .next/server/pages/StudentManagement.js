"use strict";(()=>{var e={};e.id=133,e.ids=[133,660],e.modules={89640:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{config:()=>j,default:()=>m,getServerSideProps:()=>f,getStaticPaths:()=>h,getStaticProps:()=>u,reportWebVitals:()=>g,routeModule:()=>w,unstable_getServerProps:()=>N,unstable_getServerSideProps:()=>v,unstable_getStaticParams:()=>y,unstable_getStaticPaths:()=>S,unstable_getStaticProps:()=>b});var s=r(87093),l=r(35244),i=r(1323),n=r(61682),d=r.n(n),o=r(48141),c=r.n(o),p=r(84358),x=e([p]);p=(x.then?(await x)():x)[0];let m=(0,i.l)(p,"default"),u=(0,i.l)(p,"getStaticProps"),h=(0,i.l)(p,"getStaticPaths"),f=(0,i.l)(p,"getServerSideProps"),j=(0,i.l)(p,"config"),g=(0,i.l)(p,"reportWebVitals"),b=(0,i.l)(p,"unstable_getStaticProps"),S=(0,i.l)(p,"unstable_getStaticPaths"),y=(0,i.l)(p,"unstable_getStaticParams"),N=(0,i.l)(p,"unstable_getServerProps"),v=(0,i.l)(p,"unstable_getServerSideProps"),w=new s.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/StudentManagement",pathname:"/StudentManagement",bundlePath:"",filename:""},components:{App:c(),Document:d()},userland:p});a()}catch(e){a(e)}})},70207:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.d(t,{RM:()=>c,SC:()=>p,iA:()=>d,pj:()=>m,ss:()=>x,xD:()=>o});var s=r(20997),l=r(16689),i=r(27742),n=e([i]);i=(n.then?(await n)():n)[0];let d=l.forwardRef(({className:e,...t},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:(0,i.cn)("w-full caption-bottom text-sm",e),...t})}));d.displayName="Table";let o=l.forwardRef(({className:e,...t},r)=>s.jsx("thead",{ref:r,className:(0,i.cn)("[&_tr]:border-b",e),...t}));o.displayName="TableHeader";let c=l.forwardRef(({className:e,...t},r)=>s.jsx("tbody",{ref:r,className:(0,i.cn)("[&_tr:last-child]:border-0",e),...t}));c.displayName="TableBody",l.forwardRef(({className:e,...t},r)=>s.jsx("tfoot",{ref:r,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let p=l.forwardRef(({className:e,...t},r)=>s.jsx("tr",{ref:r,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));p.displayName="TableRow";let x=l.forwardRef(({className:e,...t},r)=>s.jsx("th",{ref:r,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));x.displayName="TableHead";let m=l.forwardRef(({className:e,...t},r)=>s.jsx("td",{ref:r,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));m.displayName="TableCell",l.forwardRef(({className:e,...t},r)=>s.jsx("caption",{ref:r,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption",a()}catch(e){a(e)}})},150:(e,t,r)=>{r.d(t,{p:()=>a.pm});var a=r(12987)},84358:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>j});var s=r(20997),l=r(16689),i=r(49752),n=r(95364),d=r(87095),o=r(70207),c=r(150),p=r(58474),x=r(70550),m=r(88055),u=r(53736),h=r(41919),f=e([i,n,d,o,p,u,h]);[i,n,d,o,p,u,h]=f.then?(await f)():f;let j=()=>{let{profile:e}=(0,m.a)(),{toast:t}=(0,c.p)(),[r,a]=(0,l.useState)(""),{data:f,isLoading:j,refetch:g}=(0,i.useQuery)({queryKey:["teacher-students",e?.id],queryFn:async()=>{if(!e?.id)return[];let{data:t,error:r}=await x.O.from("students").select(`
          id,
          name,
          group_name,
          teacher
        `).eq("teacher",e.full_name);if(r)throw console.error("Error fetching students:",r),r;return t},enabled:!!e?.id}),b=()=>{g()},S=f?.filter(e=>e.name.toLowerCase().includes(r.toLowerCase()));return s.jsx(p.Z,{children:(0,s.jsxs)("div",{className:"container mx-auto px-0 py-0 md:px-6 md:py-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Student List"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(h.Z,{onStudentsAdded:b}),s.jsx(u.Z,{onStudentAdded:b})]})]}),s.jsx("div",{className:"flex gap-4",children:s.jsx(d.I,{placeholder:"Search student name...",value:r,onChange:e=>a(e.target.value),className:"max-w-sm"})}),s.jsx("div",{className:"rounded-md border",children:(0,s.jsxs)(o.iA,{children:[s.jsx(o.xD,{children:(0,s.jsxs)(o.SC,{children:[s.jsx(o.ss,{children:"Student Name"}),s.jsx(o.ss,{children:"Class"}),s.jsx(o.ss,{children:"Teacher"}),s.jsx(o.ss,{className:"text-right",children:"Actions"})]})}),s.jsx(o.RM,{children:j?s.jsx(o.SC,{children:s.jsx(o.pj,{colSpan:4,className:"text-center",children:"Loading..."})}):f?.length===0?s.jsx(o.SC,{children:s.jsx(o.pj,{colSpan:4,className:"text-center",children:"No students found."})}):S?.map(e=>s.jsxs(o.SC,{children:[s.jsx(o.pj,{children:e.name}),s.jsx(o.pj,{children:e.group_name||"-"}),s.jsx(o.pj,{children:e.teacher||"-"}),s.jsx(o.pj,{className:"text-right",children:s.jsx(n.z,{variant:"ghost",onClick:()=>{t({title:"Coming Soon",description:"Edit student functionality will be implemented soon."})},children:"Edit"})})]},e.id))})]})})]})})};a()}catch(e){a(e)}})},92885:e=>{e.exports=require("@supabase/supabase-js")},72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},62785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},57153:e=>{e.exports=require("papaparse")},16689:e=>{e.exports=require("react")},20997:e=>{e.exports=require("react/jsx-runtime")},6302:e=>{e.exports=require("xlsx")},55315:e=>{e.exports=require("path")},25458:e=>{e.exports=import("@radix-ui/react-avatar")},77715:e=>{e.exports=import("@radix-ui/react-dialog")},10049:e=>{e.exports=import("@radix-ui/react-label")},3567:e=>{e.exports=import("@radix-ui/react-select")},14338:e=>{e.exports=import("@radix-ui/react-slot")},49752:e=>{e.exports=import("@tanstack/react-query")},16926:e=>{e.exports=import("class-variance-authority")},16593:e=>{e.exports=import("clsx")},68097:e=>{e.exports=import("tailwind-merge")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[682,54,840,944,800,930,744],()=>r(89640));module.exports=a})();