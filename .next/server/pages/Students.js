"use strict";(()=>{var e={};e.id=518,e.ids=[518,660],e.modules={95422:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{config:()=>f,default:()=>h,getServerSideProps:()=>u,getStaticPaths:()=>g,getStaticProps:()=>p,reportWebVitals:()=>b,routeModule:()=>k,unstable_getServerProps:()=>w,unstable_getServerSideProps:()=>v,unstable_getStaticParams:()=>N,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>y});var r=a(87093),l=a(35244),n=a(1323),i=a(61682),d=a.n(i),c=a(48141),o=a.n(c),x=a(65947),m=e([x]);x=(m.then?(await m)():m)[0];let h=(0,n.l)(x,"default"),p=(0,n.l)(x,"getStaticProps"),g=(0,n.l)(x,"getStaticPaths"),u=(0,n.l)(x,"getServerSideProps"),f=(0,n.l)(x,"config"),b=(0,n.l)(x,"reportWebVitals"),y=(0,n.l)(x,"unstable_getStaticProps"),j=(0,n.l)(x,"unstable_getStaticPaths"),N=(0,n.l)(x,"unstable_getStaticParams"),w=(0,n.l)(x,"unstable_getServerProps"),v=(0,n.l)(x,"unstable_getServerSideProps"),k=new r.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/Students",pathname:"/Students",bundlePath:"",filename:""},components:{App:o(),Document:d()},userland:x});s()}catch(e){s(e)}})},99737:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(33592).Z)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},37663:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(33592).Z)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},21427:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(33592).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},50231:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(33592).Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},19078:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(33592).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},92551:(e,t,a)=>{a.d(t,{Z:()=>s});let s=(0,a(33592).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},71451:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.d(t,{Z:()=>u});var r=a(20997),l=a(16689),n=a(50947),i=a(14866),d=a(95364),c=a(92551),o=a(99737),x=a(37663),m=a(21427),h=a(47782),p=a(49175),g=e([n,i,d]);[n,i,d]=g.then?(await g)():g;let u=({filters:e,pagination:t})=>{let[a,s]=(0,l.useState)([]),[g,u]=(0,l.useState)(!0),[f,b]=(0,l.useState)(null);(0,l.useEffect)(()=>{(async()=>{u(!0),b(null);try{let t={teacher:e.teachers?.[0]||"",grade:e.grades[0]||""},a=await (0,p.X1)(t);s(a)}catch(e){console.error("Error fetching Hafalan ranking data:",e),b("Failed to load ranking data")}finally{u(!1)}})()},[e.teachers,e.grades]);let y=a.filter(t=>{let a=e.teachers||[],s=0===a.length||a.includes(t.teacherId),r=0===e.grades.length||e.grades.includes("all")||e.grades.includes(t.grade);return s&&r}).map((e,t)=>({...e,rank:t+1})),j=y.length,N=Math.ceil(j/t.itemsPerPage),w=(t.currentPage-1)*t.itemsPerPage,v=w+t.itemsPerPage,k=y.slice(w,v),P=e=>1===e?r.jsx("span",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-yellow-400 text-white text-xl font-bold shadow-md",children:"\uD83E\uDD47"}):2===e?r.jsx("span",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-300 text-white text-xl font-bold shadow-md",children:"\uD83E\uDD48"}):3===e?r.jsx("span",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-orange-300 text-white text-xl font-bold shadow-md",children:"\uD83E\uDD49"}):r.jsx("span",{className:"w-7 h-7 flex items-center justify-center rounded-full bg-gray-100 text-gray-500 text-base font-semibold border border-gray-200",children:e}),S=e=>e>=90?"text-green-600":e>=80?"text-blue-600":e>=70?"text-yellow-600":"text-red-600",Z=e=>e>=90?"bg-green-500":e>=80?"bg-blue-500":e>=70?"bg-yellow-500":"bg-red-500",C=e=>{e>=1&&e<=N&&t.onPageChange(e)};return g?r.jsx("div",{className:"flex items-center justify-center p-8",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(c.Z,{className:"h-6 w-6 animate-spin text-blue-600"}),r.jsx("span",{className:"text-gray-600",children:"Loading ranking data..."})]})}):f?r.jsx("div",{className:"flex items-center justify-center p-8",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("p",{className:"text-red-600 mb-2",children:f}),r.jsx(d.z,{onClick:()=>window.location.reload(),variant:"outline",children:"Retry"})]})}):r.jsx("div",{className:"space-y-6",children:(0,r.jsxs)(n.Zb,{className:"bg-white shadow-lg border-0 rounded-xl",children:[r.jsx(n.Ol,{className:"bg-gradient-to-r from-green-50 to-emerald-50 border-b border-gray-100",children:(0,r.jsxs)(n.ll,{className:"flex items-center gap-3 text-gray-800",children:[r.jsx(o.Z,{className:"h-6 w-6 text-green-600"}),"Al-Quran Memorization Rankings"]})}),(0,r.jsxs)(n.aY,{className:"p-0",children:[r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Teacher"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Juz"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Surah"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Current Verse"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:k.length>0?k.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:P(e.rank)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-green-400 to-emerald-500 flex items-center justify-center text-white font-semibold text-sm",children:e.name.split(" ").map(e=>e[0]).join("")}),r.jsx("div",{className:"ml-4",children:r.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name})})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx(i.C,{variant:"outline",className:"border-gray-200 text-gray-700",children:e.class})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900",children:e.teacher})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(x.Z,{className:"h-4 w-4 text-gray-400 mr-2"}),r.jsx("span",{className:"text-sm font-medium text-gray-900",children:30===e.juz?"Juz 30":"N/A"})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900",children:e.surah||"N/A"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900",children:e.verse||"N/A"})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2 mr-3",children:r.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${Z(e.progress)}`,style:{width:`${e.progress}%`}})}),(0,r.jsxs)("span",{className:`text-sm font-semibold ${S(e.progress)}`,children:[e.progress,"%"]})]})})]},e.id)):r.jsx("tr",{children:r.jsx("td",{colSpan:8,className:"px-6 py-4 text-center text-gray-500",children:"No students found"})})})]})}),N>1&&(0,r.jsxs)("div",{className:"flex items-center justify-between px-6 py-3 border-t border-gray-200",children:[r.jsx(d.z,{variant:"outline",size:"sm",onClick:()=>C(t.currentPage-1),disabled:1===t.currentPage,"aria-label":"Previous Page",children:r.jsx(m.Z,{className:"h-4 w-4"})}),(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:["Page ",t.currentPage," of ",N]}),r.jsx(d.z,{variant:"outline",size:"sm",onClick:()=>C(t.currentPage+1),disabled:t.currentPage===N,"aria-label":"Next Page",children:r.jsx(h.Z,{className:"h-4 w-4"})})]})]})]})})};s()}catch(e){s(e)}})},61390:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.d(t,{Z:()=>y});var r=a(20997);a(16689);var l=a(41664),n=a.n(l),i=a(39332),d=a(88055),c=a(95364),o=a(42964),x=a(92568),m=a(99737),h=a(37663),p=a(62487),g=a(89934),u=a(3498),f=a(55051),b=e([c,o,f]);[c,o,f]=b.then?(await b)():b;let y=()=>{let{profile:e,signOut:t}=(0,d.a)(),a=(0,i.useRouter)(),s=(0,i.usePathname)(),l=async()=>{await t(),a.push("/")},b=[{href:"/dashboard",label:"Dashboard",icon:x.Z},{href:"/students",label:"Student Rankings",mobileLabel:"Student Ranks",icon:m.Z},{href:"/tests/view",label:"Test Results",icon:h.Z},{href:"/profile",label:"Profile",icon:p.Z}],y=e=>s===e||"/dashboard"!==e&&s?.startsWith(e);return(0,r.jsxs)(r.Fragment,{children:[r.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/60",children:r.jsx("nav",{className:"container mx-auto px-4",children:(0,r.jsxs)("div",{className:"flex h-16 items-center justify-between md:justify-between",children:[r.jsx("div",{className:"flex-1 flex justify-center md:justify-start items-center gap-2",children:(0,r.jsxs)(n(),{href:"/dashboard",className:"flex items-center space-x-2",children:[r.jsx("div",{className:"w-9 h-9 bg-gradient-to-r from-green-400 to-teal-500 rounded-lg flex items-center justify-center shadow-sm",children:r.jsx("span",{className:"text-white font-bold text-xl",children:"M"})}),r.jsx("span",{className:"font-sf-pro font-semibold text-base bg-gradient-to-r from-green-400 to-teal-500 bg-clip-text text-transparent hidden sm:block",children:"Mutabaahly"})]})}),r.jsx("div",{className:"hidden md:flex items-center gap-6",children:b.map(e=>(0,r.jsxs)(n(),{href:e.href,className:`
                    flex items-center gap-2 text-sm font-medium transition-colors
                    ${y(e.href)?"bg-gradient-to-r from-green-400 to-teal-500 bg-clip-text text-transparent":"text-gray-600 hover:bg-gradient-to-r hover:from-green-400 hover:to-teal-500 hover:bg-clip-text hover:text-transparent"}
                  `,children:[r.jsx(e.icon,{className:`h-4 w-4 ${y(e.href)?"text-teal-500":"text-gray-600 group-hover:text-teal-500"}`}),e.label]},e.label))}),r.jsx("div",{className:"hidden md:flex items-center gap-4",children:(0,r.jsxs)(f.h_,{children:[r.jsx(f.$F,{asChild:!0,children:(0,r.jsxs)(c.z,{variant:"ghost",className:"flex items-center gap-2",children:[r.jsx(o.qE,{className:"h-8 w-8",children:r.jsx(o.Q5,{className:"bg-green-100 text-teal-700",children:e?.full_name?.split(" ").map(e=>e[0]).join("").toUpperCase()})}),r.jsx("span",{className:"text-sm font-medium bg-gradient-to-r from-green-400 to-teal-500 bg-clip-text text-transparent",children:e?.full_name}),r.jsx(g.Z,{className:"h-4 w-4 text-teal-500"})]})}),r.jsx(f.AW,{align:"end",className:"w-48",children:(0,r.jsxs)(f.Xi,{onClick:l,className:"text-red-600",children:[r.jsx(u.Z,{className:"mr-2 h-4 w-4"}),"Sign Out"]})})]})})]})})}),r.jsx("nav",{className:"fixed bottom-0 left-0 right-0 z-50 md:hidden bg-white border-t shadow-lg",children:r.jsx("div",{className:"flex justify-around items-center h-14",children:b.map(e=>(0,r.jsxs)(n(),{href:e.href,className:`flex flex-col items-center justify-center flex-1 py-2 transition-colors ${y(e.href)?"text-teal-600":"text-gray-400 hover:text-teal-500"}`,children:[r.jsx(e.icon,{className:`h-6 w-6 mb-0.5 ${y(e.href)?"text-teal-600":"text-gray-400"}`}),r.jsx("span",{className:"text-xs font-medium",children:e.mobileLabel||e.label})]},e.label))})})]})};s()}catch(e){s(e)}})},90919:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.d(t,{Z:()=>g});var r=a(20997),l=a(16689),n=a(50947),i=a(14866),d=a(95364),c=a(92551),o=a(37663),x=a(21427),m=a(47782),h=a(49175),p=e([n,i,d]);[n,i,d]=p.then?(await p)():p;let g=({filters:e,pagination:t})=>{let[a,s]=(0,l.useState)([]),[p,g]=(0,l.useState)(!0),[u,f]=(0,l.useState)(null);(0,l.useEffect)(()=>{(async()=>{g(!0),f(null);try{let t={teacher:e.teachers?.[0]||"",grade:e.grades[0]||""},a=await (0,h.tR)(t);s(a),console.log("[TilawatiTable] allStudents:",a),console.log("[TilawatiTable] filters:",e)}catch(e){console.error("Error fetching Tilawati ranking data:",e),f("Failed to load ranking data")}finally{g(!1)}})()},[e.teachers,e.grades]);let b=a.filter(t=>{let a=e.teachers||[],s=0===a.length||a.includes(t.teacherId),r=0===e.grades.length||e.grades.includes("all")||e.grades.includes(t.grade);return s&&r}).map((e,t)=>({...e,rank:t+1})),y=b.length,j=Math.ceil(y/t.itemsPerPage),N=(t.currentPage-1)*t.itemsPerPage,w=N+t.itemsPerPage,v=b.slice(N,w),k=e=>1===e?r.jsx("span",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-yellow-400 text-white text-xl font-bold shadow-md",children:"\uD83E\uDD47"}):2===e?r.jsx("span",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-gray-300 text-white text-xl font-bold shadow-md",children:"\uD83E\uDD48"}):3===e?r.jsx("span",{className:"w-8 h-8 flex items-center justify-center rounded-full bg-orange-300 text-white text-xl font-bold shadow-md",children:"\uD83E\uDD49"}):r.jsx("span",{className:"w-7 h-7 flex items-center justify-center rounded-full bg-gray-100 text-gray-500 text-base font-semibold border border-gray-200",children:e}),P=e=>e>=90?"text-green-600":e>=80?"text-blue-600":e>=70?"text-yellow-600":"text-red-600",S=e=>e>=90?"bg-green-500":e>=80?"bg-blue-500":e>=70?"bg-yellow-500":"bg-red-500",Z=e=>{e>=1&&e<=j&&t.onPageChange(e)};return p?r.jsx("div",{className:"flex items-center justify-center p-8",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(c.Z,{className:"h-6 w-6 animate-spin text-blue-600"}),r.jsx("span",{className:"text-gray-600",children:"Loading ranking data..."})]})}):u?r.jsx("div",{className:"flex items-center justify-center p-8",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("p",{className:"text-red-600 mb-2",children:u}),r.jsx(d.z,{onClick:()=>window.location.reload(),variant:"outline",children:"Retry"})]})}):r.jsx("div",{className:"space-y-6",children:(0,r.jsxs)(n.Zb,{className:"bg-white shadow-lg border-0 rounded-xl",children:[r.jsx(n.Ol,{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-gray-100",children:(0,r.jsxs)(n.ll,{className:"flex items-center gap-3 text-gray-800",children:[r.jsx(o.Z,{className:"h-6 w-6 text-blue-600"}),"Tilawati Reading Rankings"]})}),(0,r.jsxs)(n.aY,{className:"p-0",children:[r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Class"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Teacher"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Level"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Page"}),r.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Progress"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:v.length>0?v.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:k(e.rank)}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-r from-blue-400 to-indigo-500 flex items-center justify-center text-white font-semibold text-sm",children:e.name.split(" ").map(e=>e[0]).join("")}),r.jsx("div",{className:"ml-4",children:r.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name})})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx(i.C,{variant:"outline",className:"border-gray-200 text-gray-700",children:e.class})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-900",children:e.teacher})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)(i.C,{variant:"outline",className:"border-blue-200 text-blue-700",children:["Level ",e.level]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"text-sm text-gray-900",children:["Page ",e.page]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2 mr-3",children:r.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${S(e.progress)}`,style:{width:`${e.progress}%`}})}),(0,r.jsxs)("span",{className:`text-sm font-semibold ${P(e.progress)}`,children:[e.progress,"%"]})]})})]},e.id)):r.jsx("tr",{children:r.jsx("td",{colSpan:7,className:"px-6 py-4 text-center text-gray-500",children:"No students found"})})})]})}),j>1&&(0,r.jsxs)("div",{className:"flex items-center justify-between px-6 py-3 border-t border-gray-200",children:[r.jsx(d.z,{variant:"outline",size:"sm",onClick:()=>Z(t.currentPage-1),disabled:1===t.currentPage,"aria-label":"Previous Page",children:r.jsx(x.Z,{className:"h-4 w-4"})}),(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:["Page ",t.currentPage," of ",j]}),r.jsx(d.z,{variant:"outline",size:"sm",onClick:()=>Z(t.currentPage+1),disabled:t.currentPage===j,"aria-label":"Next Page",children:r.jsx(m.Z,{className:"h-4 w-4"})})]})]})]})})};s()}catch(e){s(e)}})},6406:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.d(t,{Z:()=>m});var r=a(20997),l=a(16689),n=a.n(l),i=a(88055),d=a(39332),c=a(69750),o=a(61390),x=e([o]);o=(x.then?(await x)():x)[0];let m=({children:e,breadcrumbs:t})=>{let{profile:a,loading:s}=(0,i.a)(),l=(0,d.useRouter)();return(n().useEffect(()=>{s||a?.role==="parent"||l.push("/dashboard")},[s,a,l]),s)?r.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-islamic-500"})}):a?.role!=="parent"?null:(0,r.jsxs)("div",{className:"min-h-screen bg-gray-100 pt-0",children:[r.jsx(o.Z,{}),t&&r.jsx("div",{className:"pt-6 px-4 lg:px-8",children:r.jsx(c.Z,{items:t})}),r.jsx("main",{className:"container mx-auto pt-2 pb-6 px-4 lg:px-8",children:r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e})})]})};s()}catch(e){s(e)}})},14866:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.d(t,{C:()=>o});var r=a(20997),l=a(16689),n=a(16926),i=a(27742),d=e([n,i]);[n,i]=d.then?(await d)():d;let c=(0,n.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-islamic-500 text-white hover:bg-islamic-600",warning:"border-transparent bg-accent-500 text-white hover:bg-accent-600",info:"border-transparent bg-blue-500 text-white hover:bg-blue-600",neutral:"border-transparent bg-gray-400 text-white hover:bg-accent-500"},size:{default:"text-xs px-2.5 py-0.5",sm:"text-[10px] px-2 py-0.5",lg:"text-sm px-3 py-1"}},defaultVariants:{variant:"default",size:"default"}}),o=l.forwardRef(({className:e,variant:t,size:a,...s},l)=>r.jsx("div",{ref:l,className:(0,i.cn)(c({variant:t,size:a}),e),...s}));o.displayName="Badge",s()}catch(e){s(e)}})},50947:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.d(t,{Ol:()=>c,Zb:()=>d,aY:()=>x,ll:()=>o});var r=a(20997),l=a(16689),n=a(27742),i=e([n]);n=(i.then?(await i)():i)[0];let d=l.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));d.displayName="Card";let c=l.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));c.displayName="CardHeader";let o=l.forwardRef(({className:e,...t},a)=>r.jsx("h3",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));o.displayName="CardTitle",l.forwardRef(({className:e,...t},a)=>r.jsx("p",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...t})).displayName="CardDescription";let x=l.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,n.cn)("p-6 pt-0",e),...t}));x.displayName="CardContent",l.forwardRef(({className:e,...t},a)=>r.jsx("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t})).displayName="CardFooter",s()}catch(e){s(e)}})},82698:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.d(t,{X:()=>o});var r=a(20997),l=a(16689),n=a(11601),i=a(80906),d=a(27742),c=e([n,d]);[n,d]=c.then?(await c)():c;let o=l.forwardRef(({className:e,...t},a)=>r.jsx(n.Root,{ref:a,className:(0,d.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(n.Indicator,{className:(0,d.cn)("flex items-center justify-center text-current"),children:r.jsx(i.Z,{className:"h-4 w-4"})})}));o.displayName=n.Root.displayName,s()}catch(e){s(e)}})},55051:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.d(t,{$F:()=>h,AW:()=>p,VD:()=>u,Xi:()=>g,h_:()=>m});var r=a(20997),l=a(16689),n=a(31481),i=a(47782),d=a(80906),c=a(50231),o=a(27742),x=e([n,o]);[n,o]=x.then?(await x)():x;let m=n.Root,h=n.Trigger;n.Group,n.Portal,n.Sub,n.RadioGroup,l.forwardRef(({className:e,inset:t,children:a,...s},l)=>(0,r.jsxs)(n.SubTrigger,{ref:l,className:(0,o.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[a,r.jsx(i.Z,{className:"ml-auto h-4 w-4"})]})).displayName=n.SubTrigger.displayName,l.forwardRef(({className:e,...t},a)=>r.jsx(n.SubContent,{ref:a,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t})).displayName=n.SubContent.displayName;let p=l.forwardRef(({className:e,sideOffset:t=4,...a},s)=>r.jsx(n.Portal,{children:r.jsx(n.Content,{ref:s,sideOffset:t,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));p.displayName=n.Content.displayName;let g=l.forwardRef(({className:e,inset:t,...a},s)=>r.jsx(n.Item,{ref:s,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...a}));g.displayName=n.Item.displayName,l.forwardRef(({className:e,children:t,checked:a,...s},l)=>(0,r.jsxs)(n.CheckboxItem,{ref:l,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:a,...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(n.ItemIndicator,{children:r.jsx(d.Z,{className:"h-4 w-4"})})}),t]})).displayName=n.CheckboxItem.displayName,l.forwardRef(({className:e,children:t,...a},s)=>(0,r.jsxs)(n.RadioItem,{ref:s,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(n.ItemIndicator,{children:r.jsx(c.Z,{className:"h-2 w-2 fill-current"})})}),t]})).displayName=n.RadioItem.displayName,l.forwardRef(({className:e,inset:t,...a},s)=>r.jsx(n.Label,{ref:s,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...a})).displayName=n.Label.displayName;let u=l.forwardRef(({className:e,...t},a)=>r.jsx(n.Separator,{ref:a,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",e),...t}));u.displayName=n.Separator.displayName,s()}catch(e){s(e)}})},65947:(e,t,a)=>{a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{default:()=>j});var r=a(20997),l=a(16689),n=a(88055),i=a(6406),d=a(58474),c=a(90919),o=a(71451),x=a(49175),m=a(82698),h=a(39332),p=a(21427),g=a(19078),u=a(92551),f=a(37663),b=a(99737),y=e([i,d,c,o,m]);[i,d,c,o,m]=y.then?(await y)():y;let j=()=>{let{profile:e}=(0,n.a)(),t=(0,h.useRouter)(),[a,s]=(0,l.useState)("tilawati"),[y,j]=(0,l.useState)(["all"]),[N,w]=(0,l.useState)(1),[v,k]=(0,l.useState)([]),[P,S]=(0,l.useState)(!0),[Z,C]=(0,l.useState)(!1),R=y.length>0&&!y.includes("all");(0,l.useEffect)(()=>{(async()=>{S(!0);try{let e=await (0,x._G)();k([{id:"all",name:"All Grades"},...e])}catch(e){console.error("Error fetching filter data:",e),k([{id:"all",name:"All Grades"}])}finally{S(!1)}})()},[]);let z=()=>{w(1)},D=e=>{j(t=>{let a;return a="all"===e?["all"]:t.includes(e)?t.filter(t=>t!==e&&"all"!==t):[...t.filter(e=>"all"!==e),e],z(),0===a.length?["all"]:a})},$=e=>{w(e)},E=[{label:"Dashboard",href:"/dashboard"},{label:"Student Rankings"}],T=r.jsx("div",{className:"container mx-auto px-0 py-0 md:px-6 md:py-6",children:(0,r.jsxs)("div",{className:"w-full flex flex-col gap-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 sm:gap-4 mt-2 w-full",children:[r.jsx("button",{type:"button",onClick:()=>t.back(),className:"p-0 m-0 bg-transparent border-none outline-none flex items-center","aria-label":"Back",children:r.jsx(p.Z,{className:"h-6 w-6"})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Student Rankings"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden p-4 w-full",children:[(0,r.jsxs)("button",{className:"w-full flex items-center gap-3 px-4 py-3 sm:px-6 sm:py-4 border-b border-gray-100 hover:bg-gray-50 focus:outline-none",onClick:()=>C(e=>!e),"aria-expanded":Z,children:[r.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:r.jsx(g.Z,{className:"h-4 w-4 text-gray-600"})}),(0,r.jsxs)("div",{className:"flex-1 text-left",children:[r.jsx("h3",{className:"font-semibold text-gray-900 text-base sm:text-lg",children:"Filters"}),r.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"Refine your search results"}),R&&(0,r.jsxs)("div",{className:"flex items-center gap-2 flex-wrap mt-2",children:[y.length>0&&(0,r.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 sm:px-3 sm:py-1 bg-green-50 text-green-700 text-xs sm:text-sm rounded-full border border-green-200",children:["Grades: ",y.map(e=>v.find(t=>t.id===e)?.name||e).join(", ")]}),r.jsx("button",{type:"button",onClick:()=>{j(["all"]),w(1)},className:"ml-2 text-xs text-gray-500 hover:text-red-600 underline",children:"Clear Filters"})]})]}),r.jsx("span",{className:"ml-auto text-xs text-gray-500",children:Z?"Hide":"Show"})]}),Z&&(P?r.jsx("div",{className:"flex items-center justify-center py-8 sm:py-12",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx(u.Z,{className:"h-5 w-5 animate-spin text-blue-600"}),r.jsx("span",{className:"text-gray-600",children:"Loading filters..."})]})}):r.jsx("div",{className:"p-4 sm:p-6",children:r.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 sm:gap-6",children:(0,r.jsxs)("div",{className:"space-y-2 sm:space-y-3",children:[(0,r.jsxs)("label",{className:"text-xs sm:text-sm font-medium text-gray-700 flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Grade"]}),r.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:v.map(e=>(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(m.X,{id:`grade-${e.id}`,checked:y.includes(e.id),onCheckedChange:()=>D(e.id),className:"rounded-full"}),r.jsx("label",{htmlFor:`grade-${e.id}`,className:"text-sm text-gray-600 cursor-pointer",children:e.name})]},e.id))})]})})}))]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 w-full",children:[(0,r.jsxs)("div",{className:"flex flex-col xs:flex-row border-b border-gray-200 overflow-x-auto min-w-0 w-full",children:[r.jsx("button",{onClick:()=>s("tilawati"),className:`flex-1 px-2 py-3 sm:px-6 sm:py-4 text-xs sm:text-sm font-medium transition-colors ${"tilawati"===a?"text-blue-600 border-b-2 border-blue-600 bg-blue-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:(0,r.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[r.jsx(f.Z,{className:"h-4 w-4"}),"Tilawati Standing"]})}),r.jsx("button",{onClick:()=>s("hafalan"),className:`flex-1 px-2 py-3 sm:px-6 sm:py-4 text-xs sm:text-sm font-medium transition-colors ${"hafalan"===a?"text-green-600 border-b-2 border-green-600 bg-green-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-50"}`,children:(0,r.jsxs)("div",{className:"flex items-center justify-center gap-1 sm:gap-2",children:[r.jsx(b.Z,{className:"h-4 w-4"}),"Tahfidz Standing"]})})]}),r.jsx("div",{className:"p-0 min-w-0 w-full",children:"tilawati"===a?r.jsx(c.Z,{filters:{grades:y},pagination:{currentPage:N,itemsPerPage:10,onPageChange:$}}):r.jsx(o.Z,{filters:{grades:y},pagination:{currentPage:N,itemsPerPage:10,onPageChange:$}})})]})]})});return e?.role==="parent"?r.jsx(i.Z,{breadcrumbs:E,children:T}):r.jsx(d.Z,{breadcrumbs:E,children:T})};s()}catch(e){s(e)}})},92885:e=>{e.exports=require("@supabase/supabase-js")},72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},62785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},16689:e=>{e.exports=require("react")},20997:e=>{e.exports=require("react/jsx-runtime")},55315:e=>{e.exports=require("path")},25458:e=>{e.exports=import("@radix-ui/react-avatar")},11601:e=>{e.exports=import("@radix-ui/react-checkbox")},31481:e=>{e.exports=import("@radix-ui/react-dropdown-menu")},14338:e=>{e.exports=import("@radix-ui/react-slot")},16926:e=>{e.exports=import("class-variance-authority")},16593:e=>{e.exports=import("clsx")},68097:e=>{e.exports=import("tailwind-merge")}};var t=require("../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[682,54,840,944,800],()=>a(95422));module.exports=s})();