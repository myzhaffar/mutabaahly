"use strict";(()=>{var e={};e.id=929,e.ids=[929,660],e.modules={14313:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.r(a),t.d(a,{config:()=>f,default:()=>p,getServerSideProps:()=>g,getStaticPaths:()=>u,getStaticProps:()=>h,reportWebVitals:()=>j,routeModule:()=>C,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>w,unstable_getStaticParams:()=>y,unstable_getStaticPaths:()=>N,unstable_getStaticProps:()=>b});var r=t(87093),l=t(35244),i=t(1323),n=t(61682),o=t.n(n),c=t(48141),d=t.n(c),m=t(43007),x=e([m]);m=(x.then?(await x)():x)[0];let p=(0,i.l)(m,"default"),h=(0,i.l)(m,"getStaticProps"),u=(0,i.l)(m,"getStaticPaths"),g=(0,i.l)(m,"getServerSideProps"),f=(0,i.l)(m,"config"),j=(0,i.l)(m,"reportWebVitals"),b=(0,i.l)(m,"unstable_getStaticProps"),N=(0,i.l)(m,"unstable_getStaticPaths"),y=(0,i.l)(m,"unstable_getStaticParams"),v=(0,i.l)(m,"unstable_getServerProps"),w=(0,i.l)(m,"unstable_getServerSideProps"),C=new r.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/Profile",pathname:"/Profile",bundlePath:"",filename:""},components:{App:d(),Document:o()},userland:m});s()}catch(e){s(e)}})},21741:(e,a,t)=>{t.d(a,{Z:()=>s});let s=(0,t(33592).Z)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},92551:(e,a,t)=>{t.d(a,{Z:()=>s});let s=(0,t(33592).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},33656:(e,a,t)=>{t.d(a,{Z:()=>s});let s=(0,t(33592).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},59911:(e,a,t)=>{t.d(a,{Z:()=>s});let s=(0,t(33592).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},22972:(e,a,t)=>{t.d(a,{Z:()=>s});let s=(0,t(33592).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},45623:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{Z:()=>x});var r=t(20997),l=t(16689),i=t.n(l),n=t(88055),o=t(39332),c=t(1462),d=t(69750),m=e([c]);c=(m.then?(await m)():m)[0];let x=({children:e,breadcrumbs:a})=>{let{profile:t,loading:s}=(0,n.a)(),l=(0,o.useRouter)(),[m,x]=i().useState(!1);return(i().useEffect(()=>{s||t||l.push("/auth")},[s,t,l]),s)?r.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:r.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-islamic-500"})}):t?"teacher"===t.role?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,r.jsxs)("header",{className:"sticky top-0 z-40 bg-white shadow-sm flex items-center justify-between h-16 px-4 lg:px-8 lg:hidden",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-teal-500 to-green-500 rounded-lg flex items-center justify-center",children:r.jsx("span",{className:"text-white font-bold text-lg",children:"M"})}),r.jsx("span",{className:"font-semibold text-lg text-gray-900 hidden sm:inline",children:"Mutabaahly"})]}),r.jsx("button",{className:"lg:hidden p-2 rounded-md text-teal-700 hover:bg-teal-50",onClick:()=>x(e=>!e),children:r.jsx("svg",{className:"h-7 w-7",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 12h16M4 18h16"})})})]}),r.jsx(c.Z,{isMobileMenuOpen:m,setIsMobileMenuOpen:x}),(0,r.jsxs)("main",{className:"lg:pl-64 min-h-screen",children:[a&&r.jsx("div",{className:"pt-6 px-4 lg:px-8",children:r.jsx(d.Z,{items:a})}),r.jsx("div",{className:"container mx-auto pt-2 pb-6 px-4 lg:px-8",children:r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e})})]})]}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[a&&r.jsx("div",{className:"pt-6 px-4 lg:px-8",children:r.jsx(d.Z,{items:a})}),r.jsx("main",{className:"container mx-auto pt-2 pb-6 px-4 lg:px-8",children:r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4",children:e})})]}):null};s()}catch(e){s(e)}})},33989:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{B:()=>p});var r=t(20997),l=t(16689),i=t.n(l),n=t(11099),o=t(88055),c=t(70550),d=t(37270),m=t(39332),x=e([n,d]);function p({isOpen:e,onClose:a}){let{profile:t,signOut:s}=(0,o.a)(),l=(0,m.useRouter)(),[x,p]=i().useState(!1),h=async()=>{if(t?.id){p(!0);try{let{error:e}=await c.O.from("profiles").delete().eq("id",t.id);if(e)throw e;let{error:a}=await c.O.auth.admin.deleteUser(t.id);if(a)throw a;await s(),l.push("/"),d.toast.success("Account deleted successfully")}catch(e){console.error("Error deleting account:",e),d.toast.error("Failed to delete account")}finally{p(!1),a()}}};return r.jsx(n.aR,{open:e,onOpenChange:a,children:(0,r.jsxs)(n._T,{children:[(0,r.jsxs)(n.fY,{children:[r.jsx(n.f$,{children:"Are you absolutely sure?"}),r.jsx(n.yT,{children:"This action cannot be undone. This will permanently delete your account and remove all associated data from our servers."})]}),(0,r.jsxs)(n.xo,{children:[r.jsx(n.le,{disabled:x,children:"Cancel"}),r.jsx(n.OL,{onClick:h,disabled:x,className:"bg-red-600 hover:bg-red-700 focus:ring-red-600",children:x?"Deleting...":"Delete Account"})]})]})})}[n,d]=x.then?(await x)():x,s()}catch(e){s(e)}})},59696:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{i:()=>b});var r=t(20997),l=t(16689),i=t(37435),n=t(95364),o=t(87095),c=t(7825),d=t(88055),m=t(46573),x=t(37270),p=t(42964),h=t(92551),u=t(21741),g=t(22972),f=t(27742),j=e([i,n,o,c,x,p,f]);[i,n,o,c,x,p,f]=j.then?(await j)():j;let N=["image/jpeg","image/png","image/gif","image/webp"];function b({isOpen:e,onClose:a,onProfileUpdated:t}){let{user:s,profile:j}=(0,d.a)(),[b,y]=(0,l.useState)(j?.full_name||""),[v,w]=(0,l.useState)(!1),[C,Z]=(0,l.useState)(j?.avatar_url||null),[P,k]=(0,l.useState)(!1),[S,z]=(0,l.useState)(!1),F=()=>{let e=b.trim();return e?e.length<2?(x.toast.error("Full name must be at least 2 characters long"),!1):!(e.length>100)||(x.toast.error("Full name must be less than 100 characters"),!1):(x.toast.error("Full name is required"),!1)},_=async e=>{if(e.preventDefault(),!s?.id){x.toast.error("User not authenticated");return}if(F()){w(!0);try{let e=b.trim(),{error:r}=await m.O.from("profiles").update({full_name:e,avatar_url:C,updated_at:new Date().toISOString()}).eq("id",s.id);if(r)throw console.error("Profile update error:",r),Error(r.message||"Failed to update profile");x.toast.success("Profile updated successfully"),t(),a()}catch(a){console.error("Error updating profile:",a);let e=a instanceof Error?a.message:"Failed to update profile";x.toast.error(e)}finally{w(!1)}}},O=async e=>{let a=e.target.files?.[0];if(e.target.value="",a){if(!s?.id){x.toast.error("User not authenticated");return}if(a.size>5242880){x.toast.error("File size must be less than 5MB");return}if(!N.includes(a.type)){x.toast.error("Only JPG, PNG, GIF, and WebP images are allowed");return}try{k(!0);let e=a.name.split(".").pop()?.toLowerCase()||"jpg",t=Date.now(),r=`${s.id}/avatar_${t}.${e}`,{error:l,data:i}=await m.O.storage.from("avatars").upload(r,a,{cacheControl:"3600",contentType:a.type});if(l)throw console.error("Upload error:",l),Error(l.message||"Failed to upload image");if(!i?.path)throw Error("Upload successful but no file path returned");let{data:{publicUrl:n}}=m.O.storage.from("avatars").getPublicUrl(i.path);if(!n)throw Error("Failed to get public URL for uploaded image");if(C&&C!==n)try{let e=new URL(C).pathname.split("/avatars/")[1];e&&e.startsWith(s.id)&&await m.O.storage.from("avatars").remove([e])}catch(e){console.warn("Failed to remove old avatar:",e)}Z(n),x.toast.success("Profile picture updated successfully")}catch(a){console.error("Error uploading image:",a);let e=a instanceof Error?a.message:"Failed to upload profile picture";x.toast.error(e)}finally{k(!1)}}},M=async()=>{if(s?.id&&C){z(!0);try{let e=C.split("/").slice(-2).join("/"),{error:a}=await m.O.storage.from("avatars").remove([e]);if(a)throw a;let{error:r}=await m.O.from("profiles").update({avatar_url:null}).eq("id",s.id);if(r)throw r;Z(null),x.toast.success("Profile photo deleted"),t()}catch(e){console.error("Error deleting photo:",e),x.toast.error("Failed to delete profile photo")}finally{z(!1)}}},q=()=>{if(v||P){x.toast.error("Please wait for the current operation to complete");return}a()};return s?r.jsx(i.Vq,{open:e,onOpenChange:q,children:(0,r.jsxs)(i.cZ,{className:"sm:max-w-[425px]","aria-describedby":"edit-profile-description",children:[r.jsx(i.fK,{children:r.jsx(i.$N,{children:"Edit Profile"})}),r.jsx("div",{id:"edit-profile-description",className:"sr-only",children:"Update your profile information and upload a profile picture."}),(0,r.jsxs)("form",{onSubmit:_,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)(p.qE,{className:"h-24 w-24",children:[r.jsx(p.F$,{src:C||void 0,alt:b?`${b}'s avatar`:"User avatar"}),r.jsx(p.Q5,{className:"text-lg font-semibold",children:b?.charAt(0)?.toUpperCase()||j?.full_name?.charAt(0)?.toUpperCase()||"U"})]}),(0,r.jsxs)("label",{htmlFor:"avatar-upload",className:(0,f.cn)("absolute bottom-0 right-0 cursor-pointer rounded-full bg-primary p-2 text-primary-foreground hover:bg-primary/90 transition-colors",(P||v)&&"opacity-50 cursor-not-allowed"),title:"Upload profile picture",children:[P?r.jsx(h.Z,{className:"h-4 w-4 animate-spin"}):r.jsx(u.Z,{className:"h-4 w-4"}),r.jsx("input",{id:"avatar-upload",type:"file",accept:N.join(","),className:"hidden",onChange:O,disabled:P||v})]}),C&&r.jsx("button",{type:"button",onClick:M,className:"absolute top-0 left-0 bg-red-500 hover:bg-red-600 text-white rounded-full p-2 shadow-md transition-colors",disabled:S,title:"Delete photo",children:S?r.jsx(h.Z,{className:"h-4 w-4 animate-spin"}):r.jsx(g.Z,{className:"h-4 w-4"})})]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground text-center",children:["Click the camera icon to upload a new profile picture",r.jsx("br",{}),"Maximum size: 5MB • Formats: JPG, PNG, GIF, WebP"]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx(c._,{htmlFor:"fullName",children:"Full Name *"}),r.jsx(o.I,{id:"fullName",value:b,onChange:e=>y(e.target.value),placeholder:"Enter your full name",required:!0,maxLength:100,disabled:v||P,autoComplete:"name"})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-2 pt-4",children:[r.jsx(n.z,{type:"button",variant:"outline",onClick:q,disabled:v||P,children:"Cancel"}),r.jsx(n.z,{type:"submit",disabled:v||P||!b.trim(),children:v?(0,r.jsxs)(r.Fragment,{children:[r.jsx(h.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})]})}):null}s()}catch(e){s(e)}})},37435:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{$N:()=>j,Be:()=>b,GG:()=>p,Vq:()=>d,cN:()=>f,cZ:()=>u,fK:()=>g,hg:()=>m});var r=t(20997),l=t(16689),i=t(77715),n=t(22972),o=t(27742),c=e([i,o]);[i,o]=c.then?(await c)():c;let d=i.Root,m=i.Trigger,x=i.Portal,p=i.Close,h=l.forwardRef(({className:e,...a},t)=>r.jsx(i.Overlay,{ref:t,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));h.displayName=i.Overlay.displayName;let u=l.forwardRef(({className:e,children:a,...t},s)=>(0,r.jsxs)(x,{children:[r.jsx(h,{}),(0,r.jsxs)(i.Content,{ref:s,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t,children:[a,(0,r.jsxs)(i.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(n.Z,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));u.displayName=i.Content.displayName;let g=({className:e,...a})=>r.jsx("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});g.displayName="DialogHeader";let f=({className:e,...a})=>r.jsx("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});f.displayName="DialogFooter";let j=l.forwardRef(({className:e,...a},t)=>r.jsx(i.Title,{ref:t,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));j.displayName=i.Title.displayName;let b=l.forwardRef(({className:e,...a},t)=>r.jsx(i.Description,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",e),...a}));b.displayName=i.Description.displayName,s()}catch(e){s(e)}})},87095:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{I:()=>o});var r=t(20997),l=t(16689),i=t(27742),n=e([i]);i=(n.then?(await n)():n)[0];let o=l.forwardRef(({className:e,type:a,...t},s)=>r.jsx("input",{type:a,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...t}));o.displayName="Input",s()}catch(e){s(e)}})},7825:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.d(a,{_:()=>m});var r=t(20997),l=t(16689),i=t(10049),n=t(16926),o=t(27742),c=e([i,n,o]);[i,n,o]=c.then?(await c)():c;let d=(0,n.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),m=l.forwardRef(({className:e,...a},t)=>r.jsx(i.Root,{ref:t,className:(0,o.cn)(d(),e),...a}));m.displayName=i.Root.displayName,s()}catch(e){s(e)}})},46573:(e,a,t)=>{t.d(a,{O:()=>s});let s=(0,t(92885).createClient)("https://isyhakwwgdozgtlquzis.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlzeWhha3d3Z2Rvemd0bHF1emlzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDY5NTY3NzcsImV4cCI6MjA2MjUzMjc3N30.-2Ya944q8mgJzRAuhMpRAWgxWVmt2yc3CqM0jjgFuuY",{db:{schema:"public"}})},43007:(e,a,t)=>{t.a(e,async(e,s)=>{try{t.r(a),t.d(a,{default:()=>Z});var r=t(20997),l=t(16689),i=t(88055),n=t(50947),o=t(21427),c=t(88886),d=t(9464),m=t(91560),x=t(17911),p=t(33656),h=t(59911),u=t(3498),g=t(95364),f=t(39332),j=t(42964),b=t(45623),N=t(59696),y=t(33989),v=t(55051),w=t(6406),C=e([n,g,j,b,N,y,v,w]);[n,g,j,b,N,y,v,w]=C.then?(await C)():C;let Z=()=>{let{user:e,profile:a,signOut:t}=(0,i.a)(),[s,C]=(0,l.useState)(!1),[Z,P]=(0,l.useState)(!1),k=(0,f.useRouter)(),S=[{label:"Dashboard",href:"/dashboard"},{label:"Profile"}],z=()=>{C(!0)},F=()=>{P(!0)},_=()=>{},O=async()=>{await t(),k.push("/")};return a?"parent"===a.role?(0,r.jsxs)(w.Z,{breadcrumbs:S,children:[(0,r.jsxs)("div",{className:"container mx-auto px-0 py-0 md:px-6 md:py-6 flex flex-col gap-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[r.jsx("button",{type:"button",onClick:()=>k.back(),className:"p-0 m-0 bg-transparent border-none outline-none flex items-center","aria-label":"Back",children:r.jsx(o.Z,{className:"h-6 w-6"})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Profile Settings"})]}),r.jsx(n.Zb,{className:"mb-6",children:r.jsx(n.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"relative",children:[r.jsx("div",{className:"absolute right-0 top-0",children:(0,r.jsxs)(v.h_,{children:[r.jsx(v.$F,{asChild:!0,children:r.jsx(g.z,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-gray-100 rounded-full",children:r.jsx(c.Z,{className:"h-4 w-4 text-gray-500"})})}),(0,r.jsxs)(v.AW,{align:"end",className:"w-48",children:[(0,r.jsxs)(v.Xi,{onClick:z,className:"cursor-pointer",children:[r.jsx(d.Z,{className:"mr-2 h-4 w-4 text-gray-500"}),r.jsx("span",{children:"Edit Profile"})]}),r.jsx(v.VD,{}),(0,r.jsxs)(v.Xi,{onClick:F,className:"cursor-pointer text-red-600 focus:text-red-600",children:[r.jsx(m.Z,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Delete Account"})]})]})]})}),(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsxs)(j.qE,{className:"h-24 w-24 mb-4",children:[r.jsx(j.F$,{src:a?.avatar_url||void 0}),r.jsx(j.Q5,{className:"bg-gradient-to-r from-green-400 to-teal-500 text-white text-xl",children:a?.full_name?.split(" ").map(e=>e[0]).join("").toUpperCase()})]}),r.jsx("h2",{className:"text-xl font-semibold mb-1",children:a?.full_name}),r.jsx("p",{className:"text-gray-500 capitalize",children:a?.role})]})]})})}),(0,r.jsxs)(n.Zb,{children:[r.jsx(n.Ol,{className:"p-6 pb-0",children:(0,r.jsxs)(n.ll,{className:"flex items-center gap-2 text-gray-800",children:[r.jsx(x.Z,{className:"h-5 w-5 text-teal-500"}),"Account Information"]})}),(0,r.jsxs)(n.aY,{className:"space-y-6 p-6 pt-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg",children:[r.jsx(x.Z,{className:"h-5 w-5 text-teal-500"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Full Name"}),r.jsx("p",{className:"font-medium text-gray-900",children:a?.full_name||"Not set"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg",children:[r.jsx(p.Z,{className:"h-5 w-5 text-teal-500"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),r.jsx("p",{className:"font-medium text-gray-900",children:e?.email||"Not set"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg",children:[r.jsx(h.Z,{className:"h-5 w-5 text-teal-500"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Role"}),r.jsx("p",{className:"font-medium text-gray-900 capitalize",children:a?.role||"Not set"})]})]})]})]}),r.jsx("div",{className:"md:hidden mt-6",children:(0,r.jsxs)(g.z,{onClick:O,variant:"outline",className:"w-full flex items-center gap-2 text-red-600 border-red-200 hover:bg-red-50 hover:text-red-700",children:[r.jsx(u.Z,{className:"h-5 w-5"}),"Sign Out"]})})]}),r.jsx(N.i,{isOpen:s,onClose:()=>C(!1),onProfileUpdated:_}),r.jsx(y.B,{isOpen:Z,onClose:()=>P(!1)})]}):(0,r.jsxs)(b.Z,{breadcrumbs:S,children:[(0,r.jsxs)("div",{className:"container mx-auto px-0 lg:px-8",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 mt-2 mb-6",children:[r.jsx("button",{type:"button",onClick:()=>k.back(),className:"p-0 m-0 bg-transparent border-none outline-none flex items-center","aria-label":"Back",children:r.jsx(o.Z,{className:"h-6 w-6"})}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Profile Settings"})]}),r.jsx(n.Zb,{className:"mb-6",children:r.jsx(n.aY,{className:"p-6",children:(0,r.jsxs)("div",{className:"relative",children:[r.jsx("div",{className:"absolute right-0 top-0",children:(0,r.jsxs)(v.h_,{children:[r.jsx(v.$F,{asChild:!0,children:r.jsx(g.z,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-gray-100 rounded-full",children:r.jsx(c.Z,{className:"h-4 w-4 text-gray-500"})})}),(0,r.jsxs)(v.AW,{align:"end",className:"w-48",children:[(0,r.jsxs)(v.Xi,{onClick:z,className:"cursor-pointer",children:[r.jsx(d.Z,{className:"mr-2 h-4 w-4 text-gray-500"}),r.jsx("span",{children:"Edit Profile"})]}),r.jsx(v.VD,{}),(0,r.jsxs)(v.Xi,{onClick:F,className:"cursor-pointer text-red-600 focus:text-red-600",children:[r.jsx(m.Z,{className:"mr-2 h-4 w-4"}),r.jsx("span",{children:"Delete Account"})]})]})]})}),(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsxs)(j.qE,{className:"h-24 w-24 mb-4",children:[r.jsx(j.F$,{src:a?.avatar_url||void 0}),r.jsx(j.Q5,{className:"bg-gradient-to-r from-green-400 to-teal-500 text-white text-xl",children:a?.full_name?.split(" ").map(e=>e[0]).join("").toUpperCase()})]}),r.jsx("h2",{className:"text-xl font-semibold mb-1",children:a?.full_name}),r.jsx("p",{className:"text-gray-500 capitalize",children:a?.role})]})]})})}),(0,r.jsxs)(n.Zb,{children:[r.jsx(n.Ol,{className:"p-6 pb-0",children:(0,r.jsxs)(n.ll,{className:"flex items-center gap-2 text-gray-800",children:[r.jsx(x.Z,{className:"h-5 w-5 text-teal-500"}),"Account Information"]})}),(0,r.jsxs)(n.aY,{className:"space-y-6 p-6 pt-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg",children:[r.jsx(x.Z,{className:"h-5 w-5 text-teal-500"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Full Name"}),r.jsx("p",{className:"font-medium text-gray-900",children:a?.full_name||"Not set"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg",children:[r.jsx(p.Z,{className:"h-5 w-5 text-teal-500"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Email"}),r.jsx("p",{className:"font-medium text-gray-900",children:e?.email||"Not set"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-gray-50 rounded-lg",children:[r.jsx(h.Z,{className:"h-5 w-5 text-teal-500"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-gray-500",children:"Role"}),r.jsx("p",{className:"font-medium text-gray-900 capitalize",children:a?.role||"Not set"})]})]})]})]})]}),r.jsx(N.i,{isOpen:s,onClose:()=>C(!1),onProfileUpdated:_}),r.jsx(y.B,{isOpen:Z,onClose:()=>P(!1)})]}):r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})};s()}catch(e){s(e)}})},92885:e=>{e.exports=require("@supabase/supabase-js")},72934:e=>{e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},62785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},16689:e=>{e.exports=require("react")},20997:e=>{e.exports=require("react/jsx-runtime")},55315:e=>{e.exports=require("path")},32131:e=>{e.exports=import("@radix-ui/react-alert-dialog")},25458:e=>{e.exports=import("@radix-ui/react-avatar")},77715:e=>{e.exports=import("@radix-ui/react-dialog")},31481:e=>{e.exports=import("@radix-ui/react-dropdown-menu")},10049:e=>{e.exports=import("@radix-ui/react-label")},14338:e=>{e.exports=import("@radix-ui/react-slot")},16926:e=>{e.exports=import("class-variance-authority")},16593:e=>{e.exports=import("clsx")},37270:e=>{e.exports=import("sonner")},68097:e=>{e.exports=import("tailwind-merge")}};var a=require("../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[682,54,840,944,172],()=>t(14313));module.exports=s})();